# HTTP-services Personal аccount (1.1.6.7)

## Оглавление

[Изменения](#изменения)

- [Общее](#общее)

  - [Ping](#ping)

  - [Approval of repairs](#approval-of-repairs)

  - [Files](#files)

  - [Push](#push)

- [Личный кабинет клиента](#личный-кабинет-клиента)

  - [Indicatorsinfo](#indicatorsinfo)

  - [CustomerObjects](#customerobjects)

  - [Indicators](#indicators)

  - [PersonalAcc](#personalacc)

  - [priceconditions](#priceconditions)

- [Товары](#товары)

  - [Product](#product)

  - [Image](#image)

  - [Price](#price)

  - [Stock](#stock)

- [ProPark](#propark)

  - [ProParkRefund](#proparkrefund)

  - [ProParkReplacement](#proparkreplacement)

  - [ProParkNew](#proparknew)

  - [ProParkMoving](#proparkmoving)

  - [ProParkRequest](#proparkrequest)

  - [ProParkRequestGetDoc](#proparkrequestgetdoc)

- [Documents](#documents)

  - [DataBySalesAll](#databysalesall)

  - [DataBySalesAllForPeriod](#databysalesallforperiod)

  - [DataBySalesByGuid](#databysalesbyguid)

  - [DataByOrdersAll](#databyordersall)

  - [DataByOrdersAllForPeriod](#databyordersallforperiod)

  - [DataByOrdersByGuid](#databyordersbyguid)

  - [DataByRepairsAll](#databyrepairsall)

  - [DataByRepairsAllForPeriod](#databyrepairsallforperiod)

  - [DataByRepairsByGuid](#databyrepairsbyguid)

  - [Orders](#orders)

  - [Repairs](#repairs)

  - [Sales](#sales)

  - [CustomerOrders](#customerorders)

---

## Изменения

Изменения в описании отмечены следующим образом (\*)

в версии 1.1.6.5 обновлено описание сервиса [Files](#files).

В версии 1.1.6.1 в сервисе [Push](#push) добавлен новый Type - proPark/request.

В версии 1.1.5.6 изменены сервисы [ProParkRefund](#proparkrefund), [ProParkReplacement](#proparkreplacement), [ProParkNew](#proparknew) (метод и способ передачи параметров в URL).
Добавлен новый сервис [ProParkRequestGetDoc](#proparkrequestgetdoc).

В версии 1.1.5.2 везде изменены названия ProParck на ProPark (убрали букву "c").

## Общее

Во всех сервисах:

**_TransactionID_** - уникальный GUID для каждого обращения. Используется для логирования.

**_SourceID_** - уникальный GUID системы, которая обращается к сервису. Необходим, для идентификации источника запроса и не должен часто меняться.

## Ping

### Описание

Предназначен для проверки доступности сервиса.

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/ping/
```

Возвращает _JSON_ с следующими параметрами элемента _response_:

| Параметры |  Тип   | Обязательный | Описание                                      |
| --------- | :----: | :----------: | :-------------------------------------------- |
| result    | Строка |      Да      | Возвращает "ок" при успешном соединении       |
| ver       | Строка |      Да      | Возвращает строковое представление версии API |

### Пример

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "result": "ok",
    "ver": "1.1.1.1"
  }
}
```

---

## Approval of repairs

### Описание

Предназначен для согласования/отмены согласования заказ-наряда в 1С по переданному GUID.

Метод - **PUT**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/repairs/approval/{guid}
```

где guid уникальный идентификатор заказ-наряда (строка 36 знаков)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание                                                          |
| ------------- | :---------: | :----------: | :---------------------------------------------------------------- |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее)                                               |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее)                                               |
| Approval      |   Булево    |      Да      | Признак действия - согласовать документ или отменить согласование |

Тело ответа содержит _JSON_ с следующими параметрами элемента _response_:

| Параметры            |     Тип     | Обязательный | Описание                                                                   |
| -------------------- | :---------: | :----------: | :------------------------------------------------------------------------- |
| TransactionID        | Строка (36) |     Нет      | [См. общее](#общее)                                                        |
| SourceID             | Строка (36) |      Да      | [См. общее](#общее)                                                        |
| OrderStatus          |   Строка    |      Да      | Статус заказ-наряда после согласования или отмены согласованиясогласование |
| NewOrderGUIDDocument | Строка (36) |      Да      | GUID заказ наряда на диагностику (создается при отмене согласования)       |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/repairs/approval/79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "Approval": true
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c70",
    "OrderStatus": "Ожидает оплаты",
    "NewOrderGUIDDocument": "0d2fd304-07ef-4f32-9a76-2b7d820e2c80"
  },
  "error": null,
  "errorCode": null
}
```

---

## Files

### Описание

Предназначен для получения файлов из 1С

Метод **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/files/{type}?guid={guid}
```

где type - ClientObject (файл объекта контрагента), ManagerImage (Фотография менеджера), InvoiceRepair (Счет на оплату заказ наряда), \* InvoiceOrder (Счет на оплату заказ покупателя)
где guid уникальный идентификатор объекта в зависимости от типа (строка 36 знаков). \* Можно передать несколько guid-ов через запятую. См. примеры запроса ниже.

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Если успешно, то возвращаются двоичные данные иначе тело ответа содержит _JSON_ с следующими параметрами:

| Параметры |  Тип   | Обязательный | Описание                       |
| --------- | :----: | :----------: | :----------------------------- |
| response  |  Null  |      Да      | Не заполняется при ошибке      |
| error     | Строка |      Да      | Строка описания ошибки         |
| errorCode | Строка |      Да      | Код ошибки в классификации API |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/files/ClientObject?guid=2d51050f-1b2a-11ee-81c6-00155df43005,1736b223-1b2b-11ee-81c6-00155df43005
https://server.ru/PersAcc/files/ManagerImage?guid=8fdb38c8-3abf-11e9-80e2-005056916dad,bd1aff1f-87d2-11e9-80d6-0050569133d8
https://server.ru/PersAcc/files/InvoiceRepair?guid=f6a244e3-8d77-11ec-b9bd-001b21b3a70e
https://server.ru/PersAcc/files/InvoiceOrder?guid=1d60da16-0539-11ee-81c4-00155df43005,f6a244e3-8d37-11ec-b9bd-001b21b3a70e
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64"
}
```

**Ответ в формате _JSON_**:
\* Двоичные данные (если передано несколько guid-ов, то возвращаются двоичные данные архива .zip) или

```json
{
  "response": null,
  "error": "Не удалось получить двоичные данные. Возможно передан некорректный идентификатор (guid)",
  "errorCode": "ErrSearch"
}
```

---

## Push

### Описание

Предназначен для отправка Push уведомлений на сайт из 1С.

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
Определяется на стороне сайта
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры          |  Тип   | Обязательный | Описание                                                                                                                                                                                                                                                                                  |
| ------------------ | :----: | :----------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Type (\*)          | Строка |      Да      | Тип (Может быть: DataByRepairs - заказ наряды, DataByOrders - заказ клиента, DataBySales - реализация, proPark/new - подписка на инструмент, proPark/refund - возврат инструмента из подписки, proPark/replacement - замена инструмента в подписке, proPark/request - заявка на подписку) |
| Event              | Строка |      Да      | Событие (Сейчас только Update, в будущем могут быть New, Delete)                                                                                                                                                                                                                          |
| [Data](#data-push) | Массив |      Да      | Данные для обработки                                                                                                                                                                                                                                                                      |

#### **Data (push):**

| Параметры           |             Тип             | Обязательный | Описание                                             |
| ------------------- | :-------------------------: | :----------: | :--------------------------------------------------- |
| DataType            |           Строка            |      Да      | Тип данных (Может быть: GUID, ALL, Periods)          |
| GUID                |           Строка            |     Нет      | Идентификатор документа (только для DataType = GUID) |
| PersonalAccountGUID |         Строка (36)         |     Нет      | Идентификатор личного кабинета                       |
| BeginningOfPeriod   | Дата (строка в формате UTC) |     Нет      | Дата начала (только для DataType = Periods)          |
| EndOfPeriod         | Дата (строка в формате UTC) |     Нет      | Дата окончания (только для DataType = Periods)       |

### Пример

**Тело запроса в формате _JSON_**:

Вариант 1:

```json
[
  {
    "Type": "DataByRepairs",
    "Event": "Update",
    "Data": [
      {
        "DataType": "GUID",
        "GUID": "312cb992-ab8a-11ed-81b3-00155df43005"
      }
    ]
  }
]
```

Вариант 2:

```json
[
  {
    "Type": "DataByRepairs",
    "Event": "Update",
    "Data": [
      {
        "DataType": "Periods",
        "BeginningOfPeriod": "2022-01-01T00:00:00+03:00",
        "EndOfPeriod": "2022-01-02T00:00:00+03:00",
        "PersonalAccountGUID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c22"
      }
    ]
  }
]
```

Вариант 3:

```json
[
  {
    "Type": "DataByRepairs",
    "Event": "Update",
    "Data": [
      {
        "DataType": "Periods",
        "BeginningOfPeriod": "2022-01-01T00:00:00+03:00",
        "EndOfPeriod": "2022-01-02T00:00:00+03:00"
      }
    ]
  }
]
```

Вариант 4:

```json
[
  {
    "Type": "DataByRepairs",
    "Event": "Update",
    "Data": [
      {
        "DataType": "ALL"
      }
    ]
  }
]
```

Вариант 5:

```json
[
  {
    "Type": "DataByRepairs",
    "Event": "Update",
    "Data": [
      {
        "DataType": "ALL",
        "PersonalAccountGUID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c22"
      }
    ]
  }
]
```

---

## Личный кабинет клиента

---

## Indicatorsinfo

### Описание

Предназначен для получения информации о свойствах показателей личного кабинета из 1С

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/IndicatorsInfo
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры |           Тип            | Обязательный | Описание                       |
| --------- | :----------------------: | :----------: | :----------------------------- |
| response  | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error     |          Строка          |      Да      | Строка описания ошибки         |
| errorCode |          Строка          |      Да      | Код ошибки в классификации API |

**response:**

| Параметры                                |     Тип     | Обязательный | Описание              |
| ---------------------------------------- | :---------: | :----------: | :-------------------- |
| TransactionID                            | Строка (36) |     Нет      | [См. общее](#общее)   |
| SourceID                                 | Строка (36) |      Да      | [См. общее](#общее)   |
| [Indicators](#indicators-indicatorsinfo) |   Массив    |      Да      | Массив с показателями |

#### **Indicators (Indicatorsinfo):**

| Параметры    |     Тип     | Обязательный | Описание                                                                                                                                                          |
| ------------ | :---------: | :----------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| GUID         | Строка (36) |      Да      | Идентификатор показателя                                                                                                                                          |
| Name         |   Строка    |      Да      | Наименование показателя в 1С                                                                                                                                      |
| Availability |   Булево    |      Да      | Признак доступности использования                                                                                                                                 |
| Category     |   Строка    |      Да      | Наименование категории показателя                                                                                                                                 |
| TypeValue    |   Строка    |      Да      | Определяет в каком виде будут передавать данные. Значение - одиночное значение. Массив - массив структур (структуры не стандартизованы и заменяют таблицы данных) |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/IndicatorsInfo
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Indicators": [
      {
        "GUID": "fb37c489-13f1-11ec-b9ac-04d9f5ae0305",
        "Name": "Выдано подмен",
        "Availability": true,
        "Category": "Ремонт",
        "TypeValue": "Значение"
      },
      {
        "GUID": "fb37c48a-13f1-11ec-b9ac-04d9f5ae0305",
        "Name": "Дата первого заказа",
        "Availability": true,
        "Category": "Покупки",
        "TypeValue": "Массив"
      }
    ]
  },
  "error": null,
  "errorCode": null
}
```

---

## CustomerObjects

### Описание

Предназначен для создания объектов клиентов в 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/customer/objects/{guid}
```

где guid - уникальный идентификатор клиента

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                                       |     Тип      | Обязательный | Описание                           |
| ----------------------------------------------- | :----------: | :----------: | :--------------------------------- |
| TransactionID                                   | Строка (36)  |     Нет      | [См. общее](#общее)                |
| SourceID                                        | Строка (36)  |      Да      | [См. общее](#общее)                |
| Name                                            | Строка (150) |      Да      | Наименование объекта клиента       |
| Adress                                          | Строка (500) |      Да      | Адрес объекта клиента              |
| LATITUDE                                        | Строка (10)  |      Да      | Широта                             |
| LONGITUDE                                       | Строка (10)  |      Да      | Долгота                            |
| [ContactPerson](#contactperson-customerobjects) |    Объект    |      Да      | Контактное лицо по объекту клиента |

#### **ContactPerson (CustomerObjects):**

| Параметры |     Тип      | Обязательный | Описание          |
| --------- | :----------: | :----------: | :---------------- |
| Name      | Строка (100) |      Да      | ФИО               |
| Post      | Строка (150) |      Да      | Должность         |
| Phone     | Строка (500) |      Да      | Номер телефона    |
| Email     | Строка (500) |      Да      | Электронная почта |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры |           Тип            | Обязательный | Описание                       |
| --------- | :----------------------: | :----------: | :----------------------------- |
| response  | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error     |          Строка          |      Да      | Строка описания ошибки         |
| errorCode |          Строка          |      Да      | Код ошибки в классификации API |

**response:**

| Параметры        |     Тип     | Обязательный | Описание                                 |
| ---------------- | :---------: | :----------: | :--------------------------------------- |
| TransactionID    | Строка (36) |     Нет      | [См. общее](#общее)                      |
| SourceID         | Строка (36) |      Да      | [См. общее](#общее)                      |
| ClientObjectGUID | Строка (36) |      Да      | Идентификатор созданного объекта клиента |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/customer/objects/49eafec7-9772-11e9-80d7-0050569133d8
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
  "Name": "Объект на Арбате",
  "Adress": "Москва, ул. Арбат ...",
  "LATITUDE": "55.820526",
  "LONGITUDE": "49.062280",
  "ContactPerson": {
    "Name": "Иванов Иван Иванович",
    "Post": "Директор",
    "Phone": "+7(***)-**-**",
    "Email": "mail@mail.com"
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
    "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
    "ClientObjectGUID": "f33e3bce-8136-11ed-81b1-00155df43005"
  },
  "error": null,
  "errorCode": null
}
```

---

## Indicators

### Описание

Предназначен для получения данных показателей личного кабинета. По списку или всех настроенных

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/indicators/{guid}
```

где guid - уникальный идентификатор личного кабинета, строка (36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                    |     Тип     | Обязательный | Описание                                                                                                                                                                                                |
| ---------------------------- | :---------: | :----------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| TransactionID                | Строка (36) |     Нет      | [См. общее](#общее)                                                                                                                                                                                     |
| SourceID                     | Строка (36) |      Да      | [См. общее](#общее)                                                                                                                                                                                     |
| ИдентификаторЛичногоКабинета | Строка (36) |      Да      | Уникальный GUID личного кабинета клиента (используется для логирования)                                                                                                                                 |
| Indicators                   |   Массив    |      Да      | Массив GUID - ов показателей. Если передан конкретный массив показателей, данные вернуться по нему, если массив пуст, то сервис вернет данные показателей, связанных с личным кабинетом в настройках 1С |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры |           Тип            | Обязательный | Описание                       |
| --------- | :----------------------: | :----------: | :----------------------------- |
| response  | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error     |          Строка          |      Да      | Строка описания ошибки         |
| errorCode |          Строка          |      Да      | Код ошибки в классификации API |

**response:**

| Параметры                                        |     Тип     | Обязательный | Описание                     |
| ------------------------------------------------ | :---------: | :----------: | :--------------------------- |
| TransactionID                                    | Строка (36) |     Нет      | [См. общее](#общее)          |
| SourceID                                         | Строка (36) |      Да      | [См. общее](#общее)          |
| ИдентификаторЛичногоКабинета                     | Строка (36) |      Да      | Возвращаются из тела запроса |
| [IndicatorsValues](#indicatorsvalues-indicators) |   Массив    |      Да      | Массив данных показателей    |

#### **IndicatorsValues (Indicators):**

| Параметры     |             Тип             | Обязательный | Описание            |
| ------------- | :-------------------------: | :----------: | :------------------ |
| GUIDIndicator |         Строка (36)         |      Да      | GUID показателя     |
| Value         | Строка, Число, Дата, Булево |      Да      | Значение показателя |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/indicators/9eb6e451-a000-4c40-b346-5615e0856e2d
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "ИдентификаторЛичногоКабинета": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "Indicators": []
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "ИдентификаторЛичногоКабинета": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "IndicatorsValues": [
      {
        "GUIDIndicator": "fb37c489-13f1-11ec-b9ac-04d9f5ae0304",
        "Value": 82
      },
      {
        "GUIDIndicator": "fb37c48a-13f1-11ec-b9ac-04d9f5ae0304",
        "Value": "2020-08-13T15:32:52+03:00"
      },
      {
        "GUIDIndicator": "fb37c48d-13f1-11ec-b9ac-04d9f5ae0304",
        "Value": 7
      },
      {
        "GUIDIndicator": "fb37c48b-13f1-11ec-b9ac-04d9f5ae0304",
        "Value": "2021-10-21T14:44:00+03:00"
      },
      {
        "GUIDIndicator": "fb37c48c-13f1-11ec-b9ac-04d9f5ae0304",
        "Value": 3907941.74
      },
      {
        "GUIDIndicator": "fb37c48e-13f1-11ec-b9ac-04d9f5ae0304",
        "Value": 27
      }
    ]
  },
  "error": null,
  "errorCode": null
}
```

---

## PersonalAcc

### Описание

Предназначен для отправки данных ЛК клиента на сайт (сервис на стороне сайта)

Метод - **POST**

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                     |  Тип   | Обязательный | Описание                  |
| ----------------------------- | :----: | :----------: | :------------------------ |
| [Header](#header-personalacc) | Объект |      Да      | Общие данные сообщения    |
| [Body](#body-personalacc)     | Объект |      Да      | Основные данные сообщения |

#### **Header (PersonalAcc):**

| Параметры         |         Тип          | Обязательный | Описание                                             |
| ----------------- | :------------------: | :----------: | :--------------------------------------------------- |
| Request_ID        |     Строка (36)      |      Да      | Идентификатор запроса                                |
| Data_Type         | Строка идентификатор |      Да      | Тип данных (на данный момент только PersonalAccount) |
| Count_Master_Data |        Число         |      Да      | Количество личных кабинетов в Body-PersonalAccounts  |

#### **Body (PersonalAcc):**

| Параметры                                         |  Тип   | Обязательный | Описание                       |
| ------------------------------------------------- | :----: | :----------: | :----------------------------- |
| [PersonalAccounts](#personalaccounts-personalacc) | Массив |      Да      | Массив данных личного кабинета |

#### **PersonalAccounts (PersonalAcc):**

| Параметры                                       |     Тип     | Обязательный | Описание                                        |
| ----------------------------------------------- | :---------: | :----------: | :---------------------------------------------- |
| GUID                                            | Строка (36) |      Да      | Идентификатор ЛК                                |
| Name                                            |   Строка    |      Да      | Наименование ЛК                                 |
| [ContactPerson](#maincontactperson-personalacc) |   Объект    |      Да      | Данные контактного лица                         |
| FreeShipping                                    |   Булево    |      Да      | Признак бесплатной доставки                     |
| FieldOfActivity                                 |   Строка    |      Да      | Сфера деятельности                              |
| CompanySize                                     |    Число    |      Да      | Размер компании (кол-во сотрудников)            |
| Address                                         |   Строка    |      Да      | Адрес компании                                  |
| PostalCode                                      |   Строка    |      Да      | Пустая строка (на данный момент не заполняется) |
| Website                                         |   Строка    |      Да      | Адрес веб-сайта                                 |
| email                                           |   Строка    |      Да      | Адрес электронной почты                         |
| Phone                                           |   Строка    |      Да      | Номер телефона                                  |
| INN                                             |   Строка    |      Да      | ИНН                                             |
| KPP                                             |   Строка    |      Да      | КПП                                             |
| OGRN                                            |   Строка    |      Да      | ОГРН                                            |
| [BankAccount](#bankaccount-personalacc)         |   Объект    |      Да      | Данные счета                                    |
| [Customers](#customers-personalacc)             |   Массив    |      Да      | Связанные клиенты                               |
| [Indicators](#indicators-personalacc)           |   Массив    |      Да      | Данные показателей                              |

#### **MainContactPerson (PersonalAcc):**

| Параметры |             Тип             | Обязательный | Описание               |
| --------- | :-------------------------: | :----------: | :--------------------- |
| GUID      |         Строка (36)         |      Да      | Идентификатор контакта |
| Name      |           Строка            |      Да      | ФИО                    |
| Post      |           Строка            |      Да      | Должность              |
| Birthday  | Дата (строка в формате UTC) |      Да      | Дата рождения          |

#### **BankAccount (PersonalAcc):**

| Параметры |  Тип   | Обязательный | Описание    |
| --------- | :----: | :----------: | :---------- |
| BIK       | Строка |      Да      | БИК банка   |
| Account   | Строка |      Да      | Номер счета |

#### **Customers (PersonalAcc):**

| Параметры                                   |     Тип     | Обязательный | Описание                   |
| ------------------------------------------- | :---------: | :----------: | :------------------------- |
| GUID                                        | Строка (36) |      Да      | Идентификатор контрагента  |
| Name                                        |   Строка    |      Да      | Наименование               |
| INN                                         |   Строка    |      Да      | ИНН                        |
| KPP                                         |   Строка    |      Да      | КПП                        |
| MAIN                                        |   Булево    |      Да      | Признак основного клиента  |
| [Manager](#manager-personalacc)             |   Объект    |      Да      | Данные по менеджеру        |
| [ClientObject](#clientobject-personalacc)   |   Массив    |      Да      | Данные по объектам         |
| [ContactPerson](#contactperson-personalacc) |   Объект    |      Да      | Данные по контактному лицу |

#### **Manager (PersonalAcc):**

| Параметры |     Тип     | Обязательный | Описание                |
| --------- | :---------: | :----------: | :---------------------- |
| GUID      | Строка (36) |      Да      | Идентификатор менеджера |
| name      |   Строка    |      Да      | ФИО                     |
| email     |   Строка    |      Да      | Электронная почта       |
| phone     |   Строка    |      Да      | Номер телефона          |

#### **ClientObject (PersonalAcc):**

| Параметры                                    |     Тип     | Обязательный | Описание                      |
| -------------------------------------------- | :---------: | :----------: | :---------------------------- |
| GUID                                         | Строка (36) |      Да      | Идентификатор объекта         |
| Name                                         |   Строка    |      Да      | Наименование объекта          |
| Adress                                       |   Строка    |      Да      | Адрес объекта                 |
| LATITUDE                                     | Строка (10) |      Да      | Широта                        |
| LONGITUDE                                    | Строка (10) |      Да      | Долгота                       |
| [ContactPersons](#contactperson-personalacc) |   Массив    |      Да      | Массив контактов объекта      |
| [Files](#files-personalacc)                  |   Массив    |      Да      | Массив изображений по объекту |

#### **ContactPersons (PersonalAcc):**

| Параметры |     Тип     | Обязательный | Описание               |
| --------- | :---------: | :----------: | :--------------------- |
| GUID      | Строка (36) |      Да      | Идентификатор контакта |
| Name      |   Строка    |      Да      | ФИО                    |
| Phone     |   Строка    |      Да      | Номер телефона         |
| Email     |   Строка    |      Да      | Электронная почта      |

#### **Files (PersonalAcc):**

| Параметры |     Тип     | Обязательный | Описание                  |
| --------- | :---------: | :----------: | :------------------------ |
| GUID      | Строка (36) |      Да      | Идентификатор изображения |
| Name      |   Строка    |      Да      | Наименование изображения  |

#### **Indicators (PersonalAcc):**

| Параметры |     Тип     | Обязательный | Описание                 |
| --------- | :---------: | :----------: | :----------------------- |
| Name      |   Строка    |      Да      | Идентификатор показателя |
| GUID      | Строка (36) |      Да      | Наименование             |

### Пример

**Тело запроса в формате _JSON_**:

```json
{
  "Header": {
    "Request_ID": "db76551d-5a02-489d-85e9-1b6c45b516f1",
    "Data_Type": "PersonalAccount",
    "Count_Master_Data": 1
  },
  "Body": {
    "PersonalAccounts": [
      {
        "GUID": "9eb6e451-a000-4c40-b346-5615e0856e2d",
        "Name": "БАРС ООО",
        "ContactPerson": {
          "GUID": "de2fa533-3ad9-11eb-b990-04d9f5ae0304",
          "Name": "Ольга",
          "Post": "",
          "Birthday": "0001-01-01T00:00:00+00:00"
        },
        "FreeShipping": "false",
        "FieldOfActivity": "Продажа инструментов",
        "CompanySize": 1000,
        "Address": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом xx",
        "PostalCode": "",
        "Website": "",
        "email": "xxx@xxx.xxx",
        "Phone": "(3519) 40-69-xx",
        "INN": "74550185xx",
        "KPP": "7455010xx",
        "OGRN": "",
        "BankAccount": {
          "BIK": "047501602",
          "Account": "40702810972000006200"
        },
        "Customers": [
          {
            "GUID": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
            "Name": "БАРС ООО",
            "INN": "74550185xx",
            "KPP": "7455010xx",
            "MAIN": true,
            "Manager": {
              "GUID": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
              "name": "Комаров Иван",
              "email": "xxx@xxx.xxx",
              "phone": ""
            },
            "ClientObject": [
              {
                "GUID": "de2fa533-3ad9-11eb-b990-04d9f5ae0304",
                "Name": "ЖК Императорские Мытищи",
                "Adress": "Тенистый бульвар 19",
                "ContactPersons": [
                  {
                    "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
                    "Name": "Комаров Иван",
                    "Phone": "911",
                    "Email": "xxx@xxx.xxx"
                  }
                ],
                "Files": [
                  {
                    "Name": "ЖК Императорские Мытищи (фото)",
                    "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304"
                  }
                ]
              }
            ],
            "ContactPerson": {
              "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
              "Name": "Комаров Иван",
              "Phone": "911",
              "Email": "xxx@xxx.xxx"
            }
          }
        ],
        "Indicators": [
          {
            "Name": "Выдано подмен",
            "GUID": "fb37c489-13f1-11ec-b9ac-04d9f5ae0304"
          },
          {
            "Name": "Дата первого заказа",
            "GUID": "fb37c48a-13f1-11ec-b9ac-04d9f5ae0304"
          },
          {
            "Name": "Доля инструментов",
            "GUID": "967b4e54-489c-11ec-b9b5-04d9f5ae0304"
          }
        ]
      }
    ]
  }
}
```

---

## PriceConditions

### Описание

Предназначен для получения данных о скидках на дату для списка личных кабинетов

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/priceconditions
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |             Тип             | Обязательный | Описание                              |
| ------------------- | :-------------------------: | :----------: | :------------------------------------ |
| TransactionID       |         Строка (36)         |     Нет      | [См. общее](#общее)                   |
| SourceID            |         Строка (36)         |      Да      | [См. общее](#общее)                   |
| GUIDPersonalAccount |           Массив            |      Да      | Массив GUID личных кабинетов клиентов |
| Period              | Дата (строка в формате UTC) |      Да      | Дата, на которую рассчитываем скидки  |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры |           Тип            | Обязательный | Описание                       |
| --------- | :----------------------: | :----------: | :----------------------------- |
| response  | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error     |          Строка          |      Да      | Строка описания ошибки         |
| errorCode |          Строка          |      Да      | Код ошибки в классификации API |

**response:**

| Параметры                                                     |             Тип             | Обязательный | Описание                          |
| ------------------------------------------------------------- | :-------------------------: | :----------: | :-------------------------------- |
| TransactionID                                                 |         Строка (36)         |     Нет      | [См. общее](#общее)               |
| SourceID                                                      |         Строка (36)         |      Да      | [См. общее](#общее)               |
| GUIDPersonalAccount                                           |         Строка (36)         |      Да      | Возвращается из тела запроса      |
| Period                                                        | Дата (строка в формате UTC) |      Да      | Возвращается из тела запроса      |
| [PersonalAccountsData](#personalaccountsdata-priceconditions) |           Массив            |      Да      | Массив данных по личному кабинету |

#### **PersonalAccountsData (PriceConditions):**

| Параметры                               |     Тип     | Обязательный | Описание                      |
| --------------------------------------- | :---------: | :----------: | :---------------------------- |
| GUIDPersonalAccount                     | Строка (36) |      Да      | GUID личного кабинета клиента |
| [Discounts](#discounts-priceconditions) |   Массив    |      Да      | Массив скидок                 |

#### **Discounts (PriceConditions):**

| Параметры       |     Тип     | Обязательный | Описание                                           |
| --------------- | :---------: | :----------: | :------------------------------------------------- |
| DiscountType    | Строка (36) |      Да      | Тип скидки (варианты: Номенклатура, ЦеноваяГруппа) |
| DiscountSubject |   Строка    |      Да      | GUID номенклатуры или название ценовой группы      |
| Value           |    Число    |      Да      | Значение                                           |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/priceconditions
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": [
    "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "af121775-4d15-44c5-9e49-2565777c52ff"
  ],
  "Period": "2021-10-01T00:00:00+03:00"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "GUIDPersonalAccount": [
      "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
      "af121775-4d15-44c5-9e49-2565777c52ff"
    ],
    "Period": "2021-10-01T00:00:00+03:00",
    "PersonalAccountsData": [
      {
        "GUIDPersonalAccount": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
        "Discounts": [
          {
            "DiscountType": "Номенклатура",
            "DiscountSubject": "96aa282b-09c1-11ec-b9a9-04d9f5ae0304",
            "Value": 1
          },
          {
            "DiscountType": "ЦеноваяГруппа",
            "DiscountSubject": "Электро DW",
            "Value": 5
          }
        ]
      },
      {
        "GUIDPersonalAccount": "af121775-4d15-44c5-9e49-2565777c52ff",
        "Discounts": [
          {
            "DiscountType": "ЦеноваяГруппа",
            "DiscountSubject": "Крепеж DEWALT",
            "Value": 20
          },
          {
            "DiscountType": "ЦеноваяГруппа",
            "DiscountSubject": "Электро DW SP",
            "Value": 5
          }
        ]
      }
    ]
  },
  "error": null,
  "errorCode": null
}
```

---

## Товары

---

## Product

### Описание

Предназначен для отправки данных номенклатуры на сайт (сервис на стороне сайта)

Метод - **POST**

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                 |  Тип   | Обязательный | Описание                  |
| ------------------------- | :----: | :----------: | :------------------------ |
| [Header](#header-product) | Объект |      Да      | Общие данные сообщения    |
| [Body](#body-product)     | Объект |      Да      | Основные данные сообщения |

#### **Header (Product):**

| Параметры         |         Тип          | Обязательный | Описание                      |
| ----------------- | :------------------: | :----------: | :---------------------------- |
| Request_ID        |     Строка (36)      |      Да      | Идентификатор запроса         |
| Data_Type         | Строка идентификатор |      Да      | Тип данных                    |
| Count_Master_Data |        Число         |      Да      | Количество выгружаемых данных |

#### **Body (Product):**

| Параметры                                     |  Тип   | Обязательный | Описание               |
| --------------------------------------------- | :----: | :----------: | :--------------------- |
| [Products](#products-product)                 | Массив |      Да      | Массив номенклатур     |
| [Products_Section](#products_section-product) | Массив |      Да      | Массив данных каталога |
| [Categories](#categories-product)             | Массив |      Да      | Массив категорий       |

#### **Products (Product):**

| Параметры                         |     Тип     | Обязательный | Описание                            |
| --------------------------------- | :---------: | :----------: | :---------------------------------- |
| GUID                              | Строка (36) |      Да      | Массив номенклатур                  |
| IsGroup                           |   Булево    |      Да      | Признак группы                      |
| Group                             |   Строка    |      Да      | Наименование группы номенклатуры    |
| Article_Number                    |   Строка    |      Да      | Артикул                             |
| Code                              |   Строка    |      Да      | Код номенклатуры                    |
| Name                              |   Строка    |      Да      | Наименование номенклатуры           |
| SiteName (\*)                     |   Строка    |      Да      | Наименование номенклатуры для сайта |
| Full_Name                         |   Строка    |      Да      | Полное наименование номенклатуры    |
| Description                       |   Строка    |      Да      | Описание номенклатуры               |
| Section_GUID                      |   Массив    |      Да      | Массив идентификаторов Каталогов    |
| Category_GUID                     | Строка (36) |      Да      | Идентификатор категории             |
| Price_Group                       |   Строка    |      Да      | Ценовая группа                      |
| IsNew                             |   Булево    |      Да      | Признак _Это новинка_ номенклатуры  |
| [ProPark](#propark-product)       |   Объект    |     Нет      | Данные подписки ProPark             |
| [Properties](#properties-product) |   Объект    |      Да      | Свойства номенклатуры               |

#### **ProPark (Product):**

| Параметры |     Тип     | Обязательный | Описание                    |
| --------- | :---------: | :----------: | :-------------------------- |
| Phase     | Строка (36) |      Да      | Массив этапов строительства |

#### **Properties (Product):**

| Параметры        |             Тип             | Обязательный | Описание                                          |
| ---------------- | :-------------------------: | :----------: | :------------------------------------------------ |
| Brand            |           Строка            |      Да      | Бренд                                             |
| ExclusiveB2B     |           Булево            |      Да      | Признак B2B                                       |
| NewProduct       |           Булево            |      Да      | Признак новой номенклатуры                        |
| Popular          |           Булево            |      Да      | Признак популярной номенклатуры                   |
| Sales            |           Булево            |      Да      | Признак распродажа (скидки)                       |
| Seasonal         |           Булево            |      Да      | Признак сезонный                                  |
| Price            |            Число            |     Нет      | Цена номенклатуры (по выбранному виду цен в 1С)   |
| PriceDate        | Дата (строка в формате UTC) |     Нет      | Дата установки цены                               |
| SecondPrice      |            Число            |     Нет      | Вторая цена (по второму выбранному виду цен в 1С) |
| QuantityOfStock  |            Число            |     Нет      | Остаток                                           |
| PathFTPImageFile |           Строка            |     Нет      | Файл в FTP                                        |
| AllFiles (\*)    |           Массив            |     Нет      | Файлы в FTP (доп. картинки номенклатуры)          |

#### **Products_Section (Product):**

| Параметры   |     Тип     | Обязательный | Описание                                 |
| ----------- | :---------: | :----------: | :--------------------------------------- |
| GUID        | Строка (36) |      Да      | Идентификатор каталога                   |
| IsGroup     |   Булево    |      Да      | Признак группы                           |
| Code        | Строка (36) |      Да      | Код                                      |
| Name        |   Строка    |      Да      | Наименование каталога                    |
| Parent_GUID | Строка (36) |      Да      | Идентификатор родителя родителя каталога |

#### **Categories (Product):**

| Параметры |     Тип     | Обязательный | Описание                             |
| --------- | :---------: | :----------: | :----------------------------------- |
| GUID      | Строка (36) |      Да      | Идентификатор категории номенклатуры |
| Code      |   Строка    |      Да      | Код                                  |
| Name      |   Строка    |      Да      | Наименование                         |

### Пример

**Тело запроса в формате _JSON_**:

```json
{
  "Header": {
    "Request_ID": "1d534e84-0c30-492e-8dcd-0e51bfe095cd",
    "Data_Type": "Products",
    "Count_Master_Data": 2
  },
  "Body": {
    "Products": [
      {
        "GUID": "300465dd-7de8-11ec-b9bc-001b21b3a70e",
        "IsGroup": false,
        "Article_Number": "DW100DR-PL",
        "Code": "НФ-00239628",
        "Name": "Алмазная шлифовальная чашка. Размером 100MM X B 16/20X5X8 MM DCUT",
        "SiteName": "Алмазная шлифовальная чашка. Размером 100MM X B 16/20X5X8 MM",
        "Full_Name": "Алмазная шлифовальная чашка. Размером 100MM X B 16/20X5X8 MM DCUT",
        "Description": "",
        "Section_GUID": ["3f56822f-ebe6-11ec-81a0-00155df43005"],
        "Category_GUID": "6df736fa-51c4-11ec-b9ba-001b21b3a70e",
        "Price_Group": "Оснастка DCUT",
        "IsNew": true,
        "ProPark": {
          "Phase": ["3", "5"]
        },
        "Properties": {
          "Brand": "",
          "ExclusiveB2B": false,
          "NewProduct": false,
          "Popular": true,
          "Sales": false,
          "Seasonal": true,
          "Price": 500,
          "PriceDate": "2022-07-12T19:13:19+03:00",
          "SecondPrice": 500,
          "QuantityOfStock": 10,
          "PathFTPImageFile": "11291255_e1c8_11ec_81a0_00155df43005__f85eab3c_ec12_11ec_81a0_00155df43005.jpg",
          "AllFiles": [
            "11291255_e1c8_11ec_81a0_00155df43005__f85eab4c_ec12_11ec_81a0_00155df43005.jpg",
            "11291255_e1c8_11ec_81a0_00155df43005__f85eab6c_ec12_11ec_81a0_00155df43005.jpg"
          ]
        }
      },
      {
        "GUID": "f3b8ad1f-e1cb-11ec-81a0-00155df43005",
        "IsGroup": false,
        "Article_Number": "CD14100075055",
        "Code": "НФ-00250312",
        "Name": "Сверло по металлу HSS DRILL BIT - D5.2XL86XWL52 WHITE COLOR 10PC/TUB DCUT",
        "Full_Name": "Сверло по металлу HSS DRILL BIT - D5.2XL86XWL52 WHITE COLOR 10PC/TUB DCUT",
        "Description": "Сверло по металлу HSS DRILL BIT - D5.2XL86XWL52 WHITE COLOR 10PC/TUB",
        "Section_GUID": ["3f56822f-ebe6-11ec-81a0-00155df43005"],
        "Category_GUID": "6df736fa-51c4-11ec-b9ba-001b21b3a70e",
        "Price_Group": "Оснастка DCUT",
        "Properties": {
          "Brand": "",
          "ExclusiveB2B": false,
          "NewProduct": false,
          "Popular": false,
          "Sales": false,
          "Seasonal": false
        }
      }
    ],
    "Products_Section": [
      {
        "GUID": "3f56822f-ebe6-11ec-81a0-00155df43005",
        "IsGroup": true,
        "Code": "638bcff3-851f-41b1-be2c-47c756d11c12",
        "Name": "Расходные материалы DCUT",
        "Parent_GUID": ""
      },
      {
        "GUID": "b6d43157-e8dc-11ec-81a0-00155df43005",
        "IsGroup": true,
        "Code": "7c76ced0-3bb2-4d73-af34-30a40d7213ac",
        "Name": "Эксклюзив \"до 2х лет без затрат\"",
        "Parent_GUID": ""
      }
    ],
    "Categories": [
      {
        "GUID": "6df736fa-51c4-11ec-b9ba-001b21b3a70e",
        "Code": "НФ-000056",
        "Name": "Оснастка DCUT"
      },
      {
        "GUID": "22041809-7d7f-11e9-80d3-0050569133d8",
        "Code": "НФ-000026",
        "Name": "Оснастка"
      },
      {
        "GUID": "aab88747-13c7-11eb-b98c-04d9f5ae0304",
        "Code": "НФ-000050",
        "Name": "Инструменты"
      },
      {
        "GUID": "987b2c6e-524b-11e5-9810-3085a93ddca2",
        "Code": "БУ-000001",
        "Name": "Основная номенклатурная группа"
      }
    ]
  }
}
```

---

## Image

### Описание

Предназначен для отправки данных по изображениям номенклатуры на сайт (сервис на стороне сайта)

Метод - **POST**

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры               |  Тип   | Обязательный | Описание                  |
| ----------------------- | :----: | :----------: | :------------------------ |
| [Header](#header-image) | Объект |      Да      | Общие данные сообщения    |
| [Body](#body-image)     | Объект |      Да      | Основные данные сообщения |

#### **Header (Image):**

| Параметры         |         Тип          | Обязательный | Описание                      |
| ----------------- | :------------------: | :----------: | :---------------------------- |
| Request_ID        |     Строка (36)      |      Да      | Идентификатор запроса         |
| Data_Type         | Строка идентификатор |      Да      | Тип данных                    |
| Count_Master_Data |        Число         |      Да      | Количество выгружаемых данных |

#### **Body (Image):**

| Параметры                   |  Тип   | Обязательный | Описание           |
| --------------------------- | :----: | :----------: | :----------------- |
| [Products](#products-image) | Массив |      Да      | Массив номенклатур |

#### **Products (Image):**

| Параметры                       |     Тип     | Обязательный | Описание                   |
| ------------------------------- | :---------: | :----------: | :------------------------- |
| GUID                            | Строка (36) |      Да      | Идентификатор номенклатуры |
| [Properties](#properties-image) |   Объект    |      Да      | Свойства                   |

#### **Properties (Image):**

| Параметры        |  Тип   | Обязательный | Описание                                 |
| ---------------- | :----: | :----------: | :--------------------------------------- |
| PathFTPImageFile | Строка |      Да      | Файл в FTP                               |
| AllFiles (\*)    | Массив |      Да      | Файлы в FTP (доп. картинки номенклатуры) |

### Пример

**Тело запроса в формате _JSON_**:

```json
{
  "Header": {
    "Request_ID": "d1984ebc-a642-405b-8514-a98c07d90ac4",
    "Data_Type": "updatePictures",
    "Count_Master_Data": 3
  },
  "Body": {
    "Products": [
      {
        "GUID": "300465dd-7de8-11ec-b9bc-001b21b3a70e",
        "Properties": {
          "PathFTPImageFile": "300465dd_7de8_11ec_b9bc_001b21b3a70e__f0894933_ec0f_11ec_81a0_00155df43005.jpg",
          "AllFiles": [
            "dacba356_6162_11ec_b9bb_001b21b3a70e__0dbbf7ae_ebef_11ec_81a0_00155df43005.jpg"
          ]
        }
      },
      {
        "GUID": "cc43494a-db3d-11ec-81a0-00155df43005",
        "Properties": {
          "PathFTPImageFile": "cc43494a_db3d_11ec_81a0_00155df43005__a8681ed4_e0e1_11ec_81a0_00155df43005.jpg",
          "AllFiles": []
        }
      },
      {
        "GUID": "11291255-e1c8-11ec-81a0-00155df43005",
        "Properties": {
          "PathFTPImageFile": "11291255_e1c8_11ec_81a0_00155df43005__f85eab3c_ec12_11ec_81a0_00155df43005.jpg",
          "AllFiles": []
        }
      }
    ]
  }
}
```

---

## Price

### Описание

Предназначен для отправки данных по ценам номенклатуры на сайт (сервис на стороне сайта)

Метод - **POST**

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры               |  Тип   | Обязательный | Описание                  |
| ----------------------- | :----: | :----------: | :------------------------ |
| [Header](#header-price) | Объект |      Да      | Общие данные сообщения    |
| [Body](#body-price)     | Объект |      Да      | Основные данные сообщения |

#### **Header (Price):**

| Параметры         |         Тип          | Обязательный | Описание                      |
| ----------------- | :------------------: | :----------: | :---------------------------- |
| Request_ID        |     Строка (36)      |      Да      | Идентификатор запроса         |
| Data_Type         | Строка идентификатор |      Да      | Тип данных                    |
| Count_Master_Data |        Число         |      Да      | Количество выгружаемых данных |

#### **Body (Price):**

| Параметры                   |  Тип   | Обязательный | Описание           |
| --------------------------- | :----: | :----------: | :----------------- |
| [Products](#products-price) | Массив |      Да      | Массив номенклатур |

#### **Products (Price):**

| Параметры                       |     Тип     | Обязательный | Описание                   |
| ------------------------------- | :---------: | :----------: | :------------------------- |
| GUID                            | Строка (36) |      Да      | Идентификатор номенклатуры |
| [Properties](#properties-price) |   Объект    |      Да      | Свойства                   |

#### **Properties (Price):**

| Параметры   |             Тип             | Обязательный | Описание                                          |
| ----------- | :-------------------------: | :----------: | :------------------------------------------------ |
| Price       |            Число            |      Да      | Цена номенклатуры (по выбранному виду цен в 1С)   |
| PriceDate   | Дата (строка в формате UTC) |      Да      | Дата установки цены                               |
| SecondPrice |            Число            |      Да      | Вторая цена (по второму выбранному виду цен в 1С) |

### Пример

**Тело запроса в формате _JSON_**:

```json
{
  "Header": {
    "Request_ID": "cfcdaea0-2361-4e96-b06c-87405e380aeb",
    "Data_Type": "Price",
    "Count_Master_Data": 2
  },
  "Body": {
    "Products": [
      {
        "GUID": "470d847b-ebf4-11ec-81a0-00155df43005",
        "Properties": {
          "Price": 22607,
          "PriceDate": "2022-07-12T19:13:19+03:00",
          "SecondPrice": 22607
        }
      },
      {
        "GUID": "4894d920-ebe7-11ec-81a0-00155df43005",
        "Properties": {
          "Price": 17927,
          "PriceDate": "2022-07-12T19:13:19+03:00",
          "SecondPrice": 17927
        }
      }
    ]
  }
}
```

---

## Stock

### Описание

Предназначен для отправки данных по остаткам номенклатуры на сайт (сервис на стороне сайта)

Метод - **POST**

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры               |  Тип   | Обязательный | Описание                  |
| ----------------------- | :----: | :----------: | :------------------------ |
| [Header](#header-stock) | Объект |      Да      | Общие данные сообщения    |
| [Body](#body-stock)     | Объект |      Да      | Основные данные сообщения |

#### **Header (Stock):**

| Параметры         |         Тип          | Обязательный | Описание                      |
| ----------------- | :------------------: | :----------: | :---------------------------- |
| Request_ID        |     Строка (36)      |      Да      | Идентификатор запроса         |
| Data_Type         | Строка идентификатор |      Да      | Тип данных                    |
| Count_Master_Data |        Число         |      Да      | Количество выгружаемых данных |

#### **Body (Stock):**

| Параметры                   |  Тип   | Обязательный | Описание           |
| --------------------------- | :----: | :----------: | :----------------- |
| [Products](#products-stock) | Массив |      Да      | Массив номенклатур |

#### **Products (Stock):**

| Параметры                       |     Тип     | Обязательный | Описание                   |
| ------------------------------- | :---------: | :----------: | :------------------------- |
| GUID                            | Строка (36) |      Да      | Идентификатор номенклатуры |
| [Properties](#properties-stock) |   Объект    |      Да      | Свойства                   |

#### **Properties (Stock):**

| Параметры               |  Тип   | Обязательный | Описание                       |
| ----------------------- | :----: | :----------: | :----------------------------- |
| QuantityOfStock         | Число  |      Да      | Остаток по текущей организации |
| QuantityOfStockSupplier | Строка |      Да      | Остаток по поставщику          |

### Пример

**Тело запроса в формате _JSON_**:

```json
{
  "Header": {
    "Request_ID": "ff104b78-6b25-45dc-a5df-f696c9d104c3",
    "Data_Type": "QuantityOfStock",
    "Count_Master_Data": 3
  },
  "Body": {
    "Products": [
      {
        "GUID": "1e503ac1-7de0-11ec-b9bc-001b21b3a70e",
        "Properties": {
          "QuantityOfStock": 1,
          "QuantityOfStockSupplier": ""
        }
      },
      {
        "GUID": "19625c3d-c654-11e9-80db-0050569133d8",
        "Properties": {
          "QuantityOfStock": 0,
          "QuantityOfStockSupplier": ">500"
        }
      },
      {
        "GUID": "e417ee1b-ee88-11e8-80d9-005056913ce7",
        "Properties": {
          "QuantityOfStock": 2,
          "QuantityOfStockSupplier": "21135"
        }
      }
    ]
  }
}
```

---

## ProPark

---

## ProParkRefund

### Описание

Предназначен для получения данных документа Возврат инструмента из подписки

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/proPark/refund?guid={guid}
```

где guid (строка 36) идентификатор документа

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                           |           Тип            | Обязательный | Описание                       |
| ----------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-proparkrefund) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                               |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                           |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (ProParkRefund):**

| Параметры                             |     Тип     | Обязательный | Описание            |
| ------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                         | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                              | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-proparkrefund) |   Объект    |      Да      | Данные документа    |

#### **Documents (ProParkRefund):**

| Параметры                                     |  Тип   |     | Обязательный | Описание                                                 |
| --------------------------------------------- | :----: | --- | :----------: | -------------------------------------------------------- |
| [ProParkRefund](#proparkrefund-proparkrefund) | Массив |     |      Да      | Массив данных документов Возврат инструмента из подписки |

#### **ProParkRefund (ProParkRefund):**

| Параметры                           |             Тип             | Обязательный | Описание                                   |
| ----------------------------------- | :-------------------------: | :----------: | :----------------------------------------- |
| GUIDDocument                        |         Строка (36)         |      Да      | Уникальный GUID документа                  |
| GUIDCustomer                        |         Строка (36)         |      Да      | Уникальный GUID контрагента                |
| ClientObjectGUID                    |         Строка (36)         |      Да      | Уникальный GUID объекта контрагента        |
| Status (\*)                         |           Строка            |      Да      | Статус документа                           |
| Number                              |           Строка            |      Да      | Номер документа                            |
| Date                                | Дата (строка в формате UTC) |      Да      | Дата документа                             |
| GUIDRequest                         |         Строка (36)         |      Да      | Уникальный GUID документа основания Заявки |
| [Products](#products-proparkrefund) |           Массив            |      Да      | Данные табличной части                     |

#### **Products (ProParkRefund):**

| Параметры    |     Тип     | Обязательный | Описание                                         |
| ------------ | :---------: | :----------: | :----------------------------------------------- |
| GUIDProPark  | Строка (36) |      Да      | Уникальный GUID документа Подписка на инструмент |
| NumberSub    |   Строка    |      Да      | Номер документа Подписка на инструмент           |
| ItemGUID     | Строка (36) |      Да      | Уникальный GUID номенклатуры (инструмента)       |
| Article      |   Строка    |      Да      | Артикул                                          |
| SerialNumber |   Строка    |      Да      | Серийный номер                                   |
| Quantity     |    Число    |      Да      | Количество                                       |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/proPark/refund?guid=6ae193de-c4b4-11ed-81b7-00155df43005
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
    "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
    "Documents": {
      "ProParkRefund": [
        {
          "GUIDDocument": "6ae193de-c4b4-11ed-81b7-00155df43005",
          "GUIDCustomer": "8aa517ea-cc24-11ea-b98b-04d9f5ae0304",
          "ClientObjectGUID": "a04bf661-3adc-11eb-b990-04d9f5ae0304",
          "Status": "В работе",
          "Number": "РР-00000001",
          "Date": "2023-03-17T14:11:09+03:00",
          "GUIDRequest": "639d65d9-c4b4-11ed-81b7-00155df43005",
          "Products": [
            {
              "GUIDProPark": "6444c088-bd12-11ed-81b6-00155df43005",
              "NumberSub": "РР-00000001",
              "ItemGUID": "24c99a24-7729-11ea-b97f-04d9f5ae0304",
              "Article": "D25153K-KS",
              "SerialNumber": "000025",
              "Quantity": 1
            }
          ]
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## ProParkReplacement

### Описание

Предназначен для получения данных документа Замена инструмента в подписке

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/proPark/replacement?guid={guid}
```

где guid (строка 36) идентификатор документа

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                |           Тип            | Обязательный | Описание                       |
| ---------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-proparkreplacement) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                    |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (ProParkReplacement):**

| Параметры                                  |     Тип     | Обязательный | Описание            |
| ------------------------------------------ | :---------: | :----------: | :------------------ |
| TransactionID                              | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                   | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-proparkreplacement) |   Объект    |      Да      | Данные документа    |

#### **Documents (ProParkReplacement):**

| Параметры                                                    |  Тип   |     | Обязательный | Описание                                               |
| ------------------------------------------------------------ | :----: | --- | :----------: | ------------------------------------------------------ |
| [ProParkReplacement](#proparkreplacement-proparkreplacement) | Массив |     |      Да      | Массив данных документов Замена инструмента в подписке |

#### **ProParkReplacement (ProParkReplacement):**

| Параметры                                |             Тип             | Обязательный | Описание                                   |
| ---------------------------------------- | :-------------------------: | :----------: | :----------------------------------------- |
| GUIDDocument                             |         Строка (36)         |      Да      | Уникальный GUID документа                  |
| GUIDCustomer                             |         Строка (36)         |      Да      | Уникальный GUID контрагента                |
| ClientObjectGUID                         |         Строка (36)         |      Да      | Уникальный GUID объекта контрагента        |
| Status (\*)                              |           Строка            |      Да      | Статус документа                           |
| Number                                   |           Строка            |      Да      | Номер документа                            |
| Date                                     | Дата (строка в формате UTC) |      Да      | Дата документа                             |
| GUIDRequest                              |         Строка (36)         |      Да      | Уникальный GUID документа основания Заявки |
| [Products](#products-proparkreplacement) |           Массив            |      Да      | Данные табличной части                     |

#### **Products (ProParkReplacement):**

| Параметры                                |     Тип     | Обязательный | Описание                                                           |
| ---------------------------------------- | :---------: | :----------: | :----------------------------------------------------------------- |
| GUIDProPark                              | Строка (36) |      Да      | Уникальный GUID документа Подписка на инструмент                   |
| NumberSub                                |   Строка    |      Да      | Номер документа Подписка на инструмент                             |
| ItemGUID                                 | Строка (36) |      Да      | Уникальный GUID номенклатуры (инструмента) которая заменяется      |
| Article                                  |   Строка    |      Да      | Артикул (который заменяется)                                       |
| SerialNumber                             |   Строка    |      Да      | Серийный номер (который заменяется)                                |
| ItemGUIDTo                               | Строка (36) |      Да      | Уникальный GUID номенклатуры (инструмента) на который будет замена |
| ArticleTo                                |   Строка    |      Да      | Артикул (на который заменяется)                                    |
| [SerialTo](#serialto-proparkreplacement) |   Строка    |      Да      | Данные серийного номера (на который заменяется)                    |
| Quantity                                 |    Число    |      Да      | Количество                                                         |

#### **SerialTo (ProParkReplacement):**

| Параметры |     Тип      | Обязательный | Описание       |
| --------- | :----------: | :----------: | :------------- |
| Number    | Строка (150) |      Да      | Серийный номер |
| TID       | Строка (24)  |      Да      | Метка TID      |
| EPC       | Строка (30)  |      Да      | Метка EPC      |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/proPark/replacement?guid=41ffdaf4-c4b4-11ed-81b7-00155df43005
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
    "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
    "Documents": {
      "ProParkReplacement": [
        {
          "GUIDDocument": "41ffdaf4-c4b4-11ed-81b7-00155df43005",
          "GUIDCustomer": "8aa517ea-cc24-11ea-b98b-04d9f5ae0304",
          "ClientObjectGUID": "a04bf661-3adc-11eb-b990-04d9f5ae0304",
          "Status": "В работе",
          "Number": "РР-00000001",
          "Date": "2023-03-17T14:10:00+03:00",
          "GUIDRequest": "b681d4af-c4b3-11ed-81b7-00155df43005",
          "Products": [
            {
              "GUIDProPark": "6444c088-bd12-11ed-81b6-00155df43005",
              "NumberSub": "РР-00000001",
              "ItemGUID": "24c99a24-7729-11ea-b97f-04d9f5ae0304",
              "Article": "D25153K-KS",
              "SerialNumber": "000007",
              "ItemGUIDTo": "24c99a24-7729-11ea-b97f-04d9f5ae0304",
              "ArticleTo": "D25153K-KS",
              "SerialTo": {
                "Number": "000025",
                "TID": "E20060031D******",
                "EPC": ""
              },
              "Quantity": 1
            }
          ]
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## ProParkNew

### Описание

Предназначен для получения данных документа Подписка на инструмент

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/proPark/new?guid={guid}
```

где guid (строка 36) идентификатор документа

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                        |           Тип            | Обязательный | Описание                       |
| -------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-proparknew) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                            |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                        |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (ProParkNew):**

| Параметры                          |     Тип     | Обязательный | Описание            |
| ---------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                      | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                           | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-proparknew) |   Объект    |      Да      | Данные документа    |

#### **Documents (ProParkNew):**

| Параметры                            |  Тип   | Обязательный | Описание                                        |
| ------------------------------------ | :----: | :----------: | :---------------------------------------------- |
| [ProParkNew](#proparknew-proparknew) | Массив |      Да      | Массив данных документов Подписка на инструмент |

#### **ProParkNew (ProParkNew):**

| Параметры                        |             Тип             | Обязательный | Описание                                   |
| -------------------------------- | :-------------------------: | :----------: | :----------------------------------------- |
| GUIDDocument                     |         Строка (36)         |      Да      | Уникальный GUID документа                  |
| GUIDCustomer                     |         Строка (36)         |      Да      | Уникальный GUID контрагента                |
| ClientObjectGUID                 |         Строка (36)         |      Да      | Уникальный GUID объекта контрагента        |
| Status                           |           Строка            |      Да      | Статус подписки                            |
| NumberSub                        |           Строка            |      Да      | Номер подписки                             |
| Date                             | Дата (строка в формате UTC) |      Да      | Дата документа                             |
| StartDate                        | Дата (строка в формате UTC) |      Да      | Дата начала действия подписки              |
| GUIDRequest                      |         Строка (36)         |      Да      | Уникальный GUID документа основания Заявки |
| [Products](#products-proparknew) |           Массив            |      Да      | Данные табличной части                     |

#### **Products (ProParkNew):**

| Параметры                    |     Тип     | Обязательный | Описание                                   |
| ---------------------------- | :---------: | :----------: | :----------------------------------------- |
| ItemGUID                     | Строка (36) |      Да      | уникальный GUID номенклатуры (инструмента) |
| [Serial](#serial-proparknew) |   Объект    |      Да      | Данные по серийному номеру                 |
| Article                      |   Строка    |      Да      | Артикул                                    |
| Quantity                     |    Число    |      Да      | Количество                                 |

#### **Serial (ProParkNew):**

| Параметры |     Тип      | Обязательный | Описание       |
| --------- | :----------: | :----------: | :------------- |
| Number    | Строка (150) |      Да      | Серийный номер |
| TID       | Строка (24)  |      Да      | Метка TID      |
| EPC       | Строка (30)  |      Да      | Метка EPC      |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/proPark/new?guid=ad0a2703-e3fe-11ed-81bd-00155df43005
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
    "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
    "Documents": {
      "ProParkNew": [
        {
          "GUIDDocument": "6444c088-bd12-11ed-81b6-00155df43005",
          "GUIDCustomer": "8aa517ea-cc24-11ea-b98b-04d9f5ae0304",
          "ClientObjectGUID": "a04bf661-3adc-11eb-b990-04d9f5ae0304",
          "Status": "В работе",
          "NumberSub": "РР-00000001",
          "Date": "2023-03-07T21:03:41+03:00",
          "StartDate": "2023-03-06T00:00:00+03:00",
          "GUIDRequest": "2ec2dff2-bd12-11ed-81b6-00155df43005",
          "Products": [
            {
              "ItemGUID": "24c99a24-7729-11ea-b97f-04d9f5ae0304",
              "Serial": {
                "Number": "000007",
                "TID": "E20060031*******",
                "EPC": ""
              },
              "Article": "D25153K-KS",
              "Quantity": 1
            },
            {
              "ItemGUID": "d3fa562d-2f77-11e9-80d7-00505691a6db",
              "Serial": {
                "Number": "12345",
                "TID": "E20060031*******",
                "EPC": "3005FB63A*********************"
              },
              "Article": "D25333K-QS",
              "Quantity": 1
            }
          ]
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## ProParkMoving

### Описание

Предназначен для перемещения инструментов по объектам в подписке ProPark

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/proPark/moving
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                         |     Тип     | Обязательный | Описание                  |
| --------------------------------- | :---------: | :----------: | :------------------------ |
| TransactionID                     | Строка (36) |     Нет      | [См. общее](#общее)       |
| SourceID                          | Строка (36) |      Да      | [См. общее](#общее)       |
| GUIDCustomer                      | Строка (36) |      Да      | GUID клиента              |
| [Request](#request-proparkmoving) |   Объект    |      Да      | Информация по перемещению |

#### **Request (ProParkMoving):**

| Параметры                           |             Тип             | Обязательный | Описание                                            |
| ----------------------------------- | :-------------------------: | :----------: | :-------------------------------------------------- |
| Date                                | Дата (строка в формате UTC) |      Да      | Дата перемещения                                    |
| Number                              |           Строка            |      Да      | Номер перемещения на сайте                          |
| ClientObjectGUIDFrom                |         Строка (36)         |      Да      | Идентификатор объекта клиента (откуда перемещается) |
| ClientObjectGUIDTo                  |         Строка (36)         |      Да      | Идентификатор объекта клиента (куда перемещается)   |
| Comment                             |           Строка            |      Да      | Комментарий                                         |
| [Products](#products-proparkmoving) |           Массив            |      Да      | Данные по инструменту                               |

#### **Products (ProParkMoving):**

| Параметры    |     Тип     | Обязательный | Описание                   |
| ------------ | :---------: | :----------: | :------------------------- |
| GUID         | Строка (36) |      Да      | Идентификатор инструмента  |
| SerialNumber |   Строка    |      Да      | Серийный номер инструмента |
| Article      |   Строка    |      Да      | Артикул                    |
| NumberSub    | Строка (36) |      Да      | Номер подписки 1С ProPark  |
| Quantity     |   Строка    |      Да      | Количество                 |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                           |           Тип            | Обязательный | Описание                       |
| ----------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-proparkmoving) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                               |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                           |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (ProParkMoving):**

| Параметры     |     Тип     | Обязательный | Описание                              |
| ------------- | :---------: | :----------: | :------------------------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее)                   |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее)                   |
| Notice        |   Строка    |      Да      | Информация по результатам перемещения |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/proPark/moving
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
  "GUIDCustomer": "8aa517ea-cc24-11ea-b98b-04d9f5ae0304",
  "Request": {
    "Date": "2023-03-08T11:04:24+03:00",
    "Number": "N3322",
    "ClientObjectGUIDFrom": "a04bf661-3adc-11eb-b990-04d9f5ae0304",
    "ClientObjectGUIDTo": "b8fc64af-3adc-11eb-b990-04d9f5ae0304",
    "Comment": "Ком#",
    "Products": [
      {
        "GUID": "24c99a24-7729-11ea-b97f-04d9f5ae0304",
        "SerialNumber": "000007",
        "NumberSub": "РР-00000001",
        "Article": "D25153K-KS",
        "Quantity": "1"
      }
    ]
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
    "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
    "Notice": "Выполнено успешно"
  },
  "error": null,
  "errorCode": null
}
```

---

## ProParkRequest

### Описание

Предназначен для создания заявок по подписке ProPark в 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/proPark/request
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                           |     Тип     | Обязательный | Описание                           |
| ----------------------------------- | :---------: | :----------: | :--------------------------------- |
| TransactionID                       | Строка (36) |     Нет      | [См. общее](#общее)                |
| SourceID                            | Строка (36) |      Да      | [См. общее](#общее)                |
| GUIDCustomer                        | Строка (36) |      Да      | GUID клиента для оформления заказа |
| [Request](#response-proparkrequest) |   Объект    |      Да      | Информация по заявке               |

#### **Request (ProParkRequest):**

| Параметры                            |             Тип             | Обязательный | Описание                                                                                                      |
| ------------------------------------ | :-------------------------: | :----------: | :------------------------------------------------------------------------------------------------------------ |
| Type                                 |           Строка            |      Да      | Тип документа, варианты: New (новая подписка), return (возврат из подписки), swap (замена инструмента)        |
| Date                                 | Дата (строка в формате UTC) |      Да      | Дата заявки                                                                                                   |
| DatePP                               | Дата (строка в формате UTC) |      Да      | Дата начала/окончаний действия подписки. С какого числа нужен инструмент или когда планируют вернуть/заменить |
| Number                               |           Строка            |      Да      | Номер заявки в ProParсk (если в 1С есть заявка с таким номером будет возращена ошибка) (\*)                   |
| ClientObjectGUID                     |         Строка (36)         |      Да      | Идентификатор объекта клиента                                                                                 |
| Comment                              |           Строка            |      Да      | Комментарий                                                                                                   |
| [Products](#products-proparkrequest) |           Массив            |      Да      | Данные по инструменту                                                                                         |

#### **Products (ProParkRequest):**

| Параметры    |     Тип     | Обязательный | Описание                                                    |
| ------------ | :---------: | :----------: | :---------------------------------------------------------- |
| GUID         | Строка (36) |      Да      | Идентификатор инструмента                                   |
| SerialNumber |   Строка    |     Нет      | Серийный номер инструмента (только для типов return и swap) |
| NumberSub    | Строка (36) |     Нет      | Номер подписки 1С ProPark (только для типов return и swap)  |
| Article      |   Строка    |      Да      | Артикул                                                     |
| Quantity     |   Строка    |      Да      | Количество                                                  |
| Price        |   Строка    |     Нет      | Цена (только для типа New)                                  |
| Sum          |   Строка    |     Нет      | Сумма в строке (только для типа New)                        |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                            |           Тип            | Обязательный | Описание                       |
| ------------------------------------ | :----------------------: | :----------: | :----------------------------- |
| [response](#response-proparkrequest) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                            |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (ProParkRequest):**

| Параметры     |     Тип     | Обязательный | Описание                           |
| ------------- | :---------: | :----------: | :--------------------------------- |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее)                |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее)                |
| Number1C      |   Строка    |      Да      | Номер заявки в 1С (номер подписки) |
| GUIDDocument  | Строка (36) |      Да      | Уникальный GUID документа          |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/proPark/request
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
  "GUIDCustomer": "cbd1d77f-3933-11eb-b990-04d9f5ae0304",
  "Request": {
    "Type": "new",
    "Date": "2023-01-14T11:04:24+03:00",
    "DatePP": "2023-01-16T11:04:24+03:00",
    "Number": "1",
    "ClientObjectGUID": "3a2db226-041a-11ed-81a0-00155df43005",
    "Comment": "Комментарий",
    "Products": [
      {
        "GUID": "b388af94-db3d-11ec-81a0-00155df43005",
        "Article": "5009D-SP",
        "Quantity": "1",
        "Price": "17500",
        "Sum": "17500"
      }
    ]
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "Number1C": "000000004"
  },
  "error": null,
  "errorCode": null
}
```

---

## ProParkRequestGetDoc

### Описание

Предназначен для получения данных документа Заявка на подписку

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/proPark/request?guid={guid}
```

где guid (строка 36) идентификатор документа

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                  |           Тип            | Обязательный | Описание                       |
| ------------------------------------------ | :----------------------: | :----------: | :----------------------------- |
| [response](#response-proparkrequestgetdoc) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                      |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                  |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (ProParkRequestGetDoc):**

| Параметры                                    |     Тип     | Обязательный | Описание            |
| -------------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                                | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                     | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-proparkrequestgetdoc) |   Объект    |      Да      | Данные документа    |

#### **Documents (ProParkRequestGetDoc):**

| Параметры                                              |  Тип   |     | Обязательный | Описание                                                 |
| ------------------------------------------------------ | :----: | --- | :----------: | -------------------------------------------------------- |
| [ProParkRequest](#proparkrequest-proparkrequestgetdoc) | Массив |     |      Да      | Массив данных документов Возврат инструмента из подписки |

#### **ProParkRequest (ProParkRequestGetDoc):**

| Параметры    |     Тип     | Обязательный | Описание                  |
| ------------ | :---------: | :----------: | :------------------------ |
| GUIDDocument | Строка (36) |      Да      | Уникальный GUID документа |
| Status       |   Строка    |      Да      | Статус документа          |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/proPark/request?guid=639d65d9-c4b4-11ed-81b7-00155df43005
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
  "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "C8110986-AB34-41A4-8592-03D90132FE82",
    "SourceID": "90802caa-5c8d-4e9a-8147-b8f0a806093c",
    "Documents": {
      "ProParkRequest": [
        {
          "GUIDDocument": "639d65d9-c4b4-11ed-81b7-00155df43005",
          "Status": "Закрыт"
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## Documents

#### **ContactPerson (Documents):**

| Параметры |     Тип     | Обязательный | Описание                         |
| --------- | :---------: | :----------: | :------------------------------- |
| GUID      | Строка (36) |      Да      | Уникальный GUID контактного лица |
| Name      |   Строка    |      Да      | ФИО                              |
| Phone     |   Строка    |      Да      | Номер телефона                   |
| Email     |   Строка    |      Да      | Электронная почта                |

---

## DataBySalesAll

### Описание

Предназначен для получения всех расходных накладных из 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/sales/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |     Тип     | Обязательный | Описание                      |
| ------------------- | :---------: | :----------: | :---------------------------- |
| TransactionID       | Строка (36) |     Нет      | [См. общее](#общее)           |
| SourceID            | Строка (36) |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount | Строка (36) |      Да      | GUID личного кабинета клиента |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                            |           Тип            | Обязательный | Описание                       |
| ------------------------------------ | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databysalesall) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                            |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataBySalesAll):**

| Параметры                              |     Тип     | Обязательный | Описание            |
| -------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                          | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                               | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databysalesall) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataBySalesAll):**

| Параметры                      |  Тип   | Обязательный | Описание                          |
| ------------------------------ | :----: | :----------: | :-------------------------------- |
| [Sales](#sales-databysalesall) | Массив |      Да      | Массив данных расходных накладных |

#### **Sales (DataBySalesAll):**

| Параметры                                 |             Тип             | Обязательный | Описание                           |
| ----------------------------------------- | :-------------------------: | :----------: | :--------------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа          |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента        |
| GUIDOrders                                |         Строка (36)         |      Да      | Массив GUID-ов заказов покупателей |
| OrderNumber                               |           Строка            |      Да      | Номер документа                    |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа                     |
| DocumentAmount                            |            Число            |      Да      | Сумма документа                    |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки                     |
| DateOfReceiving                           | Дата (строка в формате UTC) |      Да      | Ожидаемая дата доставки            |
| Comment                                   |           Строка            |      Да      | Комментарий                        |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица            |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/sales/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "Sales": [
        {
          "GUIDDocument": "52d728fa-941a-11ea-b980-04d9f5ae0304",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDOrders": ["26e692f9-903c-11ea-b980-04d9f5ae0304"],
          "OrderNumber": "00НФ-001188",
          "OrderDate": "2020-05-12T09:32:17+03:00",
          "DocumentAmount": 6000,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "Comment": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        },
        {
          "GUIDDocument": "c82a13e4-8f2b-11ec-b9bd-001b21b3a70e",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDOrders": ["290f6f33-8f1a-11ec-b9bd-001b21b3a70e"],
          "OrderNumber": "00НФ-000902",
          "OrderDate": "2022-02-16T16:24:35+03:00",
          "DocumentAmount": 1633,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "Comment": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataBySalesAllForPeriod

### Описание

Предназначен для получения всех расходных накладных из 1С за период

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/sales/forperiod/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |             Тип             | Обязательный | Описание                      |
| ------------------- | :-------------------------: | :----------: | :---------------------------- |
| TransactionID       |         Строка (36)         |     Нет      | [См. общее](#общее)           |
| SourceID            |         Строка (36)         |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount |         Строка (36)         |      Да      | GUID личного кабинета клиента |
| BeginningOfPeriod   | Дата (строка в формате UTC) |      Да      | Начало периода                |
| EndOfPeriod         | Дата (строка в формате UTC) |      Да      | Окончание периода             |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                     |           Тип            | Обязательный | Описание                       |
| --------------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databysalesallforperiod) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                         |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                     |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataBySalesAllForPeriod):**

| Параметры                                       |     Тип     | Обязательный | Описание            |
| ----------------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                                   | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                        | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databysalesallforperiod) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataBySalesAllForPeriod):**

| Параметры                               |  Тип   | Обязательный | Описание                          |
| --------------------------------------- | :----: | :----------: | :-------------------------------- |
| [Sales](#sales-databysalesallforperiod) | Массив |      Да      | Массив данных расходных накладных |

#### **Sales (DataBySalesAllForPeriod):**

| Параметры                                 |             Тип             | Обязательный | Описание                           |
| ----------------------------------------- | :-------------------------: | :----------: | :--------------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа          |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента        |
| GUIDOrders                                |         Строка (36)         |      Да      | Массив GUID-ов заказов покупателей |
| OrderNumber                               |           Строка            |      Да      | Номер документа                    |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа                     |
| DocumentAmount                            |            Число            |      Да      | Сумма документа                    |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки                     |
| DateOfReceiving                           | Дата (строка в формате UTC) |      Да      | Ожидаемая дата доставки            |
| Comment                                   |           Строка            |      Да      | Комментарий                        |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица            |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/sales/forperiod/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d",
  "BeginningOfPeriod": "2022-01-01T00:00:00+03:00",
  "EndOfPeriod": "2022-04-01T00:00:00+03:00"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "Sales": [
        {
          "GUIDDocument": "c82a13e4-8f2b-11ec-b9bd-001b21b3a70e",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDOrders": ["290f6f33-8f1a-11ec-b9bd-001b21b3a70e"],
          "OrderNumber": "00НФ-000902",
          "OrderDate": "2022-02-16T16:24:35+03:00",
          "DocumentAmount": 1633,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "Comment": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataBySalesByGuid

### Описание

Предназначен для получения расходной накладной из 1С по переданному GUID

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/sales/{guid}
```

где guid уникальный идентификатор расходной накладной (строка 36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |     Тип     | Обязательный | Описание                      |
| ------------------- | :---------: | :----------: | :---------------------------- |
| TransactionID       | Строка (36) |     Нет      | [См. общее](#общее)           |
| SourceID            | Строка (36) |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount | Строка (36) |      Да      | GUID личного кабинета клиента |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                               |           Тип            | Обязательный | Описание                       |
| --------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databysalesbyguid) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                   |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                               |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataBySalesByGuid):**

| Параметры                                 |     Тип     | Обязательный | Описание            |
| ----------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                             | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                  | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databysalesbyguid) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataBySalesByGuid):**

| Параметры                         |  Тип   | Обязательный | Описание                          |
| --------------------------------- | :----: | :----------: | :-------------------------------- |
| [Sales](#sales-databysalesbyguid) | Массив |      Да      | Массив данных расходных накладных |

#### **Sales (DataBySalesByGuid):**

| Параметры                                 |             Тип             | Обязательный | Описание                           |
| ----------------------------------------- | :-------------------------: | :----------: | :--------------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа          |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента        |
| GUIDOrders                                |         Строка (36)         |      Да      | Массив GUID-ов заказов покупателей |
| OrderNumber                               |           Строка            |      Да      | Номер документа                    |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа                     |
| DocumentAmount                            |            Число            |      Да      | Сумма документа                    |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки                     |
| DateOfReceiving                           | Дата (строка в формате UTC) |      Да      | Ожидаемая дата доставки            |
| Comment                                   |           Строка            |      Да      | Комментарий                        |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица            |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/sales/41361a1d-dded-11ea-b98b-04d9f5ae0304/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "Sales": [
        {
          "GUIDDocument": "41361a1d-dded-11ea-b98b-04d9f5ae0304",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDOrders": ["ab4956d9-dd4e-11ea-b98b-04d9f5ae0304"],
          "OrderNumber": "00НФ-02559 ",
          "OrderDate": "2020-08-14T08:16:06+03:00",
          "DocumentAmount": 14868,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "Comment": "Самовывоз",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataByOrdersAll

### Описание

Предназначен для получения всех заказов покупателя из 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/orders
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |     Тип     | Обязательный | Описание                      |
| ------------------- | :---------: | :----------: | :---------------------------- |
| TransactionID       | Строка (36) |     Нет      | [См. общее](#общее)           |
| SourceID            | Строка (36) |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount | Строка (36) |      Да      | GUID личного кабинета клиента |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                             |           Тип            | Обязательный | Описание                       |
| ------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databyordersall) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                 |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                             |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataByOrdersAll):**

| Параметры                               |     Тип     | Обязательный | Описание            |
| --------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                           | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databyordersall) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataByOrdersAll):**

| Параметры                         |  Тип   | Обязательный | Описание                          |
| --------------------------------- | :----: | :----------: | :-------------------------------- |
| [Orders](#orders-databyordersall) | Массив |      Да      | Массив данных заказов покупателей |

#### **Orders (DataByOrdersAll):**

| Параметры                                 |             Тип             | Обязательный | Описание                    |
| ----------------------------------------- | :-------------------------: | :----------: | :-------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа   |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента |
| OrderNumber                               |           Строка            |      Да      | Номер документа             |
| OrderNumberWebsite                        |           Строка            |      Да      | Номер документа на сайте    |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа              |
| OrderStatus                               |           Строка            |      Да      | Статус заказа               |
| DocumentAmount                            |            Число            |      Да      | Сумма документа             |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки              |
| DateOfReceiving                           | Дата (строка в формате UTC) |      Да      | Ожидаемая дата доставки     |
| Comment                                   |           Строка            |      Да      | Комментарий                 |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица     |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/orders/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "Orders": [
        {
          "GUIDDocument": "26e692f9-903c-11ea-b980-04d9f5ae0304",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-001725",
          "OrderNumberWebsite": "",
          "OrderDate": "2020-05-07T11:24:22+03:00",
          "OrderStatus": "В работе",
          "DocumentAmount": 6000,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "TheContactPerson": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          },
          "Comment": ""
        },
        {
          "GUIDDocument": "284ce228-95d2-11ea-b981-04d9f5ae0304",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-001788",
          "OrderNumberWebsite": "",
          "OrderDate": "2020-05-14T14:00:44+03:00",
          "OrderStatus": "В работе",
          "DocumentAmount": 12210,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "TheContactPerson": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          },
          "Comment": ""
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataByOrdersAllForPeriod

### Описание

Предназначен для получения всех заказов покупателя из 1С за период

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/orders/forperiod/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |             Тип             | Обязательный | Описание                      |
| ------------------- | :-------------------------: | :----------: | :---------------------------- |
| TransactionID       |         Строка (36)         |     Нет      | [См. общее](#общее)           |
| SourceID            |         Строка (36)         |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount |         Строка (36)         |      Да      | GUID личного кабинета клиента |
| BeginningOfPeriod   | Дата (строка в формате UTC) |      Да      | Начало периода                |
| EndOfPeriod         | Дата (строка в формате UTC) |      Да      | Окончание периода             |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                      |           Тип            | Обязательный | Описание                       |
| ---------------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databyordersallforperiod) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                          |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                      |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataByOrdersAllForPeriod):**

| Параметры                                        |     Тип     | Обязательный | Описание            |
| ------------------------------------------------ | :---------: | :----------: | :------------------ |
| TransactionID                                    | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                         | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databyordersallforperiod) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataByOrdersAllForPeriod):**

| Параметры                                  |  Тип   | Обязательный | Описание                          |
| ------------------------------------------ | :----: | :----------: | :-------------------------------- |
| [Orders](#orders-databyordersallforperiod) | Массив |      Да      | Массив данных заказов покупателей |

#### **Orders (DataByOrdersAllForPeriod):**

| Параметры                                 |             Тип             | Обязательный | Описание                    |
| ----------------------------------------- | :-------------------------: | :----------: | :-------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа   |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента |
| OrderNumber                               |           Строка            |      Да      | Номер документа             |
| OrderNumberWebsite                        |           Строка            |      Да      | Номер документа на сайте    |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа              |
| OrderStatus                               |           Строка            |      Да      | Статус заказа               |
| DocumentAmount                            |            Число            |      Да      | Сумма документа             |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки              |
| DateOfReceiving                           | Дата (строка в формате UTC) |      Да      | Ожидаемая дата доставки     |
| Comment                                   |           Строка            |      Да      | Комментарий                 |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица     |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/orders/forperiod/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d",
  "BeginningOfPeriod": "2022-01-01T00:00:00+03:00",
  "EndOfPeriod": "2022-04-01T00:00:00+03:00"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "Orders": [
        {
          "GUIDDocument": "290f6f33-8f1a-11ec-b9bd-001b21b3a70e",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-001580",
          "OrderNumberWebsite": "",
          "OrderDate": "2022-02-16T14:18:24+03:00",
          "OrderStatus": "Завершен",
          "DocumentAmount": 1633,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "TheContactPerson": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          },
          "Comment": ""
        },
        {
          "GUIDDocument": "f7de2702-93b4-11ec-b9bd-001b21b3a70e",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-001779",
          "OrderNumberWebsite": "",
          "OrderDate": "2022-02-22T10:56:41+03:00",
          "OrderStatus": "В работе",
          "DocumentAmount": 224814.65,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "TheContactPerson": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          },
          "Comment": ""
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataByOrdersByGuid

### Описание

Предназначен для получения заказа покупателя из 1С по переданному GUID

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/orders/{guid}
```

где guid уникальный идентификатор заказа покупателя (строка 36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |     Тип     | Обязательный | Описание                      |
| ------------------- | :---------: | :----------: | :---------------------------- |
| TransactionID       | Строка (36) |     Нет      | [См. общее](#общее)           |
| SourceID            | Строка (36) |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount | Строка (36) |      Да      | GUID личного кабинета клиента |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                |           Тип            | Обязательный | Описание                       |
| ---------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databyordersbyguid) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                    |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataByOrdersByGuid):**

| Параметры                                  |     Тип     | Обязательный | Описание            |
| ------------------------------------------ | :---------: | :----------: | :------------------ |
| TransactionID                              | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                   | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databyordersbyguid) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataByOrdersByGuid):**

| Параметры                            |  Тип   | Обязательный | Описание                          |
| ------------------------------------ | :----: | :----------: | :-------------------------------- |
| [Orders](#orders-databyordersbyguid) | Массив |      Да      | Массив данных заказов покупателей |

#### **Orders (DataByOrdersByGuid):**

| Параметры                                 |             Тип             | Обязательный | Описание                    |
| ----------------------------------------- | :-------------------------: | :----------: | :-------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа   |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента |
| OrderNumber                               |           Строка            |      Да      | Номер документа             |
| OrderNumberWebsite                        |           Строка            |      Да      | Номер документа на сайте    |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа              |
| OrderStatus                               |           Строка            |      Да      | Статус заказа               |
| DocumentAmount                            |            Число            |      Да      | Сумма документа             |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки              |
| DateOfReceiving                           | Дата (строка в формате UTC) |      Да      | Ожидаемая дата доставки     |
| Comment                                   |           Строка            |      Да      | Комментарий                 |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица     |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/orders/f7de2702-93b4-11ec-b9bd-001b21b3a70e
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "Orders": [
        {
          "GUIDDocument": "f7de2702-93b4-11ec-b9bd-001b21b3a70e",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-001779",
          "OrderNumberWebsite": "",
          "OrderDate": "2022-02-22T10:56:41+03:00",
          "OrderStatus": "В работе",
          "DocumentAmount": 224814.65,
          "DeliveryAddress": "455034, Челябинская обл, Магнитогорск г, Жукова ул, дом 12",
          "DateOfReceiving": "0001-01-01T00:00:00+00:00",
          "TheContactPerson": "",
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          },
          "Comment": ""
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataByRepairsAll

### Описание

Предназначен для получения всех заказ-нарядов из 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/repairs/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |     Тип     | Обязательный | Описание                      |
| ------------------- | :---------: | :----------: | :---------------------------- |
| TransactionID       | Строка (36) |     Нет      | [См. общее](#общее)           |
| SourceID            | Строка (36) |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount | Строка (36) |      Да      | GUID личного кабинета клиента |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                              |           Тип            | Обязательный | Описание                       |
| -------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databyrepairsall) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                  |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                              |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataByRepairsAll):**

| Параметры                                |     Тип     | Обязательный | Описание            |
| ---------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                            | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                 | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databyrepairsall) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataByRepairsAll):**

| Параметры                                          |  Тип   | Обязательный | Описание                    |
| -------------------------------------------------- | :----: | :----------: | :-------------------------- |
| [PurchaseOrders](#purchaseorders-databyrepairsall) | Массив |      Да      | Массив данных заказ-нарядов |

#### **PurchaseOrders (DataByRepairsAll):**

| Параметры                                 |             Тип             | Обязательный | Описание                             |
| ----------------------------------------- | :-------------------------: | :----------: | :----------------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа            |
| GUIDRelatedDocument                       |         Строка (36)         |      Да      | Уникальный GUID связанного документа |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента          |
| GUIDProduct                               |         Строка (36)         |      Да      | Уникальный GUID инструмента          |
| OrderNumber                               |           Строка            |      Да      | Номер документа                      |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа                       |
| OrderStatus                               |           Строка            |      Да      | Статус заказа                        |
| TypeOfWork                                |           Строка            |      Да      | Вид работ                            |
| Product                                   |           Строка            |      Да      | Наименование инструмента             |
| ProductSKU                                |           Строка            |      Да      | Артикул инструмента                  |
| Shipped                                   |           Булево            |      Да      | Признак Отгружен / Не отгружен       |
| DaysInRepair                              |            Число            |      Да      | Количество дней в ремонте            |
| SerialNumber                              |           Строка            |      Да      | Серийный номер                       |
| DocumentAmount                            |            Число            |      Да      | Сумма документа                      |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки                       |
| RepairCostPercent                         |            Число            |      Да      | Процент стоимости ремонта            |
| Comment                                   |           Строка            |      Да      | Комментарий                          |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица              |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/repairs/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "PurchaseOrders": [
        {
          "GUIDDocument": "00ee0e6a-c818-11ea-b98b-04d9f5ae0304",
          "GUIDRelatedDocument": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDProduct": "36b2cb39-6382-11ea-b97b-04d9f5ae0304",
          "OrderNumber": "00НФ-003087",
          "OrderDate": "2020-07-17T13:26:41+03:00",
          "OrderStatus": "Завершен",
          "TypeOfWork": "Ремонт",
          "Product": "Перфоратор SDS-max, 1250 Вт, 2 режима, 12 Дж, 6.9 кг D25614K-QS",
          "ProductSKU": "D25614K-QS",
          "Shipped": false,
          "DaysInRepair": 0,
          "SerialNumber": "015212",
          "DocumentAmount": 1145,
          "DeliveryAddress": "",
          "Comment": "",
          "RepairCostPercent": 15.3,
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        },
        {
          "GUIDDocument": "4d2cb6f9-9c72-11ec-819f-00155df43005",
          "GUIDRelatedDocument": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDProduct": "24c99a25-7729-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-002342",
          "OrderDate": "2022-03-05T13:52:08+03:00",
          "OrderStatus": "На согласовании",
          "TypeOfWork": "",
          "Product": "Отбойный молоток SDS-max, 1350 Вт, 10.5 Дж,  1450-2900 уд./мин., D25832K-QS",
          "ProductSKU": "D25832K-QS",
          "Shipped": false,
          "DaysInRepair": 191,
          "SerialNumber": "000114",
          "DocumentAmount": 33458.78,
          "DeliveryAddress": "",
          "Comment": "",
          "RepairCostPercent": 5.15,
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataByRepairsAllForPeriod

### Описание

Предназначен для получения всех заказ-нарядов из 1С за период

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/repairs/forperiod/
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |             Тип             | Обязательный | Описание                      |
| ------------------- | :-------------------------: | :----------: | :---------------------------- |
| TransactionID       |         Строка (36)         |     Нет      | [См. общее](#общее)           |
| SourceID            |         Строка (36)         |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount |         Строка (36)         |      Да      | GUID личного кабинета клиента |
| BeginningOfPeriod   | Дата (строка в формате UTC) |      Да      | Начало периода                |
| EndOfPeriod         | Дата (строка в формате UTC) |      Да      | Окончание периода             |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                       |           Тип            | Обязательный | Описание                       |
| ----------------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databyrepairsallforperiod) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                           |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                       |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataByRepairsAllForPeriod):**

| Параметры                                         |     Тип     | Обязательный | Описание            |
| ------------------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                                     | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                          | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databyrepairsallforperiod) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataByRepairsAllForPeriod):**

| Параметры                                                   |  Тип   | Обязательный | Описание                    |
| ----------------------------------------------------------- | :----: | :----------: | :-------------------------- |
| [PurchaseOrders](#purchaseorders-databyrepairsallforperiod) | Массив |      Да      | Массив данных заказ-нарядов |

#### **PurchaseOrders (DataByRepairsAllForPeriod):**

| Параметры                                 |             Тип             | Обязательный | Описание                             |
| ----------------------------------------- | :-------------------------: | :----------: | :----------------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа            |
| GUIDRelatedDocument                       |         Строка (36)         |      Да      | Уникальный GUID связанного документа |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента          |
| GUIDProduct                               |         Строка (36)         |      Да      | Уникальный GUID инструмента          |
| OrderNumber                               |           Строка            |      Да      | Номер документа                      |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа                       |
| OrderStatus                               |           Строка            |      Да      | Статус заказа                        |
| TypeOfWork                                |           Строка            |      Да      | Вид работ                            |
| Product                                   |           Строка            |      Да      | Наименование инструмента             |
| ProductSKU                                |           Строка            |      Да      | Артикул инструмента                  |
| Shipped                                   |           Булево            |      Да      | Признак Отгружен / Не отгружен       |
| DaysInRepair                              |            Число            |      Да      | Количество дней в ремонте            |
| SerialNumber                              |           Строка            |      Да      | Серийный номер                       |
| DocumentAmount                            |            Число            |      Да      | Сумма документа                      |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки                       |
| RepairCostPercent                         |            Число            |      Да      | Процент стоимости ремонта            |
| Comment                                   |           Строка            |      Да      | Комментарий                          |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица              |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/repairs/forperiod/
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d",
  "BeginningOfPeriod": "2022-01-01T00:00:00+03:00",
  "EndOfPeriod": "2022-04-01T00:00:00+03:00"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "PurchaseOrders": [
        {
          "GUIDDocument": "f6a244e3-8d77-11ec-b9bd-001b21b3a70e",
          "GUIDRelatedDocument": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDProduct": "b1c2b864-2a26-11e9-80e7-0050569161b9",
          "OrderNumber": "00НФ-001449",
          "OrderDate": "2022-02-14T12:24:52+03:00",
          "OrderStatus": "Завершен",
          "TypeOfWork": "",
          "Product": "Отбойный молоток SDS-max 1600 Вт DeWalt D25951K-QS",
          "ProductSKU": "D25951K-QS",
          "Shipped": true,
          "DaysInRepair": 9,
          "SerialNumber": "328110",
          "DocumentAmount": 9426.3,
          "DeliveryAddress": "",
          "Comment": "",
          "RepairCostPercent": 10,
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        },
        {
          "GUIDDocument": "4d2cb6f9-9c72-11ec-819f-00155df43005",
          "GUIDRelatedDocument": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDProduct": "24c99a25-7729-11ea-b97f-04d9f5ae0304",
          "OrderNumber": "00НФ-002342",
          "OrderDate": "2022-03-05T13:52:08+03:00",
          "OrderStatus": "На согласовании",
          "TypeOfWork": "",
          "Product": "Отбойный молоток SDS-max, 1350 Вт, 10.5 Дж,  1450-2900 уд./мин., D25832K-QS",
          "ProductSKU": "D25832K-QS",
          "Shipped": false,
          "DaysInRepair": 191,
          "SerialNumber": "000114",
          "DocumentAmount": 33458.78,
          "DeliveryAddress": "",
          "Comment": "",
          "RepairCostPercent": 27.6,
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## DataByRepairsByGuid

### Описание

Предназначен для получения заказ-наряда из 1С по переданному GUID

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/repairs/{guid}
```

где guid уникальный идентификатор заказ-наряда (строка 36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры           |     Тип     | Обязательный | Описание                      |
| ------------------- | :---------: | :----------: | :---------------------------- |
| TransactionID       | Строка (36) |     Нет      | [См. общее](#общее)           |
| SourceID            | Строка (36) |      Да      | [См. общее](#общее)           |
| GUIDPersonalAccount | Строка (36) |      Да      | GUID личного кабинета клиента |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                                 |           Тип            | Обязательный | Описание                       |
| ----------------------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-databyrepairsbyguid) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                     |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                                 |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (DataByRepairsByGuid):**

| Параметры                                   |     Тип     | Обязательный | Описание            |
| ------------------------------------------- | :---------: | :----------: | :------------------ |
| TransactionID                               | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID                                    | Строка (36) |      Да      | [См. общее](#общее) |
| [Documents](#documents-databyrepairsbyguid) |   Объект    |      Да      | Данные документов   |

#### **Documents (DataByRepairsByGuid):**

| Параметры                                             |  Тип   | Обязательный | Описание                    |
| ----------------------------------------------------- | :----: | :----------: | :-------------------------- |
| [PurchaseOrders](#purchaseorders-databyrepairsbyguid) | Массив |      Да      | Массив данных заказ-нарядов |

#### **PurchaseOrders (DataByRepairsByGuid):**

| Параметры                                 |             Тип             | Обязательный | Описание                             |
| ----------------------------------------- | :-------------------------: | :----------: | :----------------------------------- |
| GUIDDocument                              |         Строка (36)         |      Да      | Уникальный GUID документа            |
| GUIDRelatedDocument                       |         Строка (36)         |      Да      | Уникальный GUID связанного документа |
| GUIDCustomer                              |         Строка (36)         |      Да      | Уникальный GUID контрагента          |
| GUIDProduct                               |         Строка (36)         |      Да      | Уникальный GUID инструмента          |
| OrderNumber                               |           Строка            |      Да      | Номер документа                      |
| OrderDate                                 | Дата (строка в формате UTC) |      Да      | Дата документа                       |
| OrderStatus                               |           Строка            |      Да      | Статус заказа                        |
| TypeOfWork                                |           Строка            |      Да      | Вид работ                            |
| Product                                   |           Строка            |      Да      | Наименование инструмента             |
| ProductSKU                                |           Строка            |      Да      | Артикул инструмента                  |
| Shipped                                   |           Булево            |      Да      | Признак Отгружен / Не отгружен       |
| DaysInRepair                              |            Число            |      Да      | Количество дней в ремонте            |
| SerialNumber                              |           Строка            |      Да      | Серийный номер                       |
| DocumentAmount                            |            Число            |      Да      | Сумма документа                      |
| DeliveryAddress                           |           Строка            |      Да      | Адрес доставки                       |
| RepairCostPercent                         |            Число            |      Да      | Процент стоимости ремонта            |
| Comment                                   |           Строка            |      Да      | Комментарий                          |
| [ContactPerson](#contactperson-documents) |           Объект            |      Да      | Данные контактного лица              |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/repairs/79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "GUIDPersonalAccount": "9eb6e451-a000-4c40-b346-5615e0856e2d"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "Documents": {
      "PurchaseOrders": [
        {
          "GUIDDocument": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
          "GUIDRelatedDocument": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
          "GUIDCustomer": "d2ef78e4-7e5f-11ea-b97f-04d9f5ae0304",
          "GUIDProduct": "cdd214ee-3f63-11e9-80ea-0050569101f6",
          "OrderNumber": "00НФ-003937",
          "OrderDate": "2021-07-13T12:41:19+03:00",
          "OrderStatus": "Завершен",
          "TypeOfWork": "",
          "Product": "18.0 В XR бесщеточный перфоратор SDS-Plus DeWalt DCH133N-XJ",
          "ProductSKU": "DCH133N-XJ",
          "Shipped": true,
          "DaysInRepair": 125,
          "SerialNumber": "121488",
          "DocumentAmount": 1782.08,
          "DeliveryAddress": "",
          "Comment": "зч заказаны 23.07\nзч дозаказаны 07.09",
          "RepairCostPercent": 15.3,
          "ContactPerson": {
            "GUID": "79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304",
            "Name": "Виктор",
            "Phone": "+ 7 (917) ...",
            "Email": "mail@mail.ru"
          }
        }
      ]
    }
  },
  "error": null,
  "errorCode": null
}
```

---

## Orders

### Описание

Предназначен для получения данных по товарам из заказа покупателя по переданному GUID

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/orders/details/{guid}
```

где guid уникальный идентификатор заказа покупателя (строка 36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                    |           Тип            | Обязательный | Описание                       |
| ---------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-orders) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                        |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                    |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (Orders):**

| Параметры                            |     Тип     | Обязательный | Описание               |
| ------------------------------------ | :---------: | :----------: | :--------------------- |
| TransactionID                        | Строка (36) |     Нет      | [См. общее](#общее)    |
| SourceID                             | Строка (36) |      Да      | [См. общее](#общее)    |
| [ProductItems](#productitems-orders) |   Массив    |      Да      | Данные по номенклатуре |

#### **ProductItems (Orders):**

| Параметры      |     Тип     | Обязательный | Описание                         |
| -------------- | :---------: | :----------: | :------------------------------- |
| ItemGUID       | Строка (36) |      Да      | Идентификатор номенклатуры       |
| Article_Number |   Строка    |      Да      | Артикул номенклатуры             |
| Code           |   Строка    |      Да      | Код номенклатуры                 |
| Full_Name      |   Строка    |      Да      | Полное наименование номенклатуры |
| Quantity       |    Число    |      Да      | Количество                       |
| Price          |    Число    |      Да      | Цена                             |
| Sum            |    Число    |      Да      | Сумма                            |
| SizeVAT        |    Число    |      Да      | Ставка НДС                       |
| SumVAT         |    Число    |      Да      | Сумма НДС                        |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/orders/details/f7de2702-93b4-11ec-b9bd-001b21b3a70e
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "ProductItems": [
      {
        "ItemGUID": "d45fa969-81e4-11e9-80e9-005056913c8e",
        "Article_Number": "125х1х22,23",
        "Code": "00-00001551",
        "Full_Name": "Круг отрезной бак. 41 125х1х22,23 A 30 R BF 2 кл 80м/с DCUT",
        "Quantity": 1,
        "Price": 49.66,
        "Sum": 39.73,
        "SizeVAT": 20,
        "SumVAT": 6.62
      },
      {
        "ItemGUID": "c97092b1-8316-11eb-b998-04d9f5ae0304",
        "Article_Number": "HR4511C",
        "Code": "НФ-00180155",
        "Full_Name": "Перфоратор,SDS-max,1300Вт,2реж,2.7-13Дж,1250-2750у\\м,7.8кг, HR4511C ",
        "Quantity": 1,
        "Price": 85386,
        "Sum": 85386,
        "SizeVAT": 20,
        "SumVAT": 14231
      }
    ]
  },
  "error": null,
  "errorCode": null
}
```

---

## Repairs

### Описание

Предназначен для получения данных по товарам и работам из заказ-наряда по переданному GUID

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/repairssales/details/{guid}
```

где guid уникальный идентификатор заказ-наряда (строка 36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                     |           Тип            | Обязательный | Описание                       |
| ----------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-repairs) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                         |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                     |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (Repairs):**

| Параметры                             |     Тип     | Обязательный | Описание               |
| ------------------------------------- | :---------: | :----------: | :--------------------- |
| TransactionID                         | Строка (36) |     Нет      | [См. общее](#общее)    |
| SourceID                              | Строка (36) |      Да      | [См. общее](#общее)    |
| [ProductItems](#productitems-repairs) |   Массив    |      Да      | Данные по номенклатуре |
| [WorkItems](#workitems-repairs)       |   Массив    |      Да      | Данные по работам      |

#### **ProductItems (Repairs):**

| Параметры      |     Тип     | Обязательный | Описание                         |
| -------------- | :---------: | :----------: | :------------------------------- |
| ItemGUID       | Строка (36) |      Да      | Идентификатор номенклатуры       |
| Article_Number |   Строка    |      Да      | Артикул номенклатуры             |
| Code           |   Строка    |      Да      | Код номенклатуры                 |
| Full_Name      |   Строка    |      Да      | Полное наименование номенклатуры |
| Quantity       |    Число    |      Да      | Количество                       |
| Price          |    Число    |      Да      | Цена                             |
| Sum            |    Число    |      Да      | Сумма                            |
| SizeVAT        |    Число    |      Да      | Ставка НДС                       |
| SumVAT         |    Число    |      Да      | Сумма НДС                        |

#### **WorkItems (Repairs):**

| Параметры      |     Тип     | Обязательный | Описание                         |
| -------------- | :---------: | :----------: | :------------------------------- |
| ItemGUID       | Строка (36) |      Да      | Идентификатор номенклатуры       |
| Article_Number |   Строка    |      Да      | Артикул номенклатуры             |
| Code           |   Строка    |      Да      | Код номенклатуры                 |
| Full_Name      |   Строка    |      Да      | Полное наименование номенклатуры |
| Quantity       |    Число    |      Да      | Количество                       |
| Price          |    Число    |      Да      | Цена                             |
| Sum            |    Число    |      Да      | Сумма                            |
| SizeVAT        |    Число    |      Да      | Ставка НДС                       |
| SumVAT         |    Число    |      Да      | Сумма НДС                        |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/repairssales/details/79ad8c9e-e3be-11eb-b9a8-04d9f5ae0304
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "ProductItems": [
      {
        "ItemGUID": "e830d20a-a358-11e9-80d9-0050569133d8",
        "Article_Number": "N487311",
        "Code": "НФ-00091614",
        "Full_Name": "ПРОКЛАДКА",
        "Quantity": 2,
        "Price": 42.71,
        "Sum": 85.42,
        "SizeVAT": 20,
        "SumVAT": 14.24
      },
      {
        "ItemGUID": "01ebbf18-cac2-11ea-b98b-04d9f5ae0304",
        "Article_Number": "N728012",
        "Code": "НФ-00152234",
        "Full_Name": "ВСТАВКА",
        "Quantity": 1,
        "Price": 57.11,
        "Sum": 57.11,
        "SizeVAT": 20,
        "SumVAT": 9.52
      },
      {
        "ItemGUID": "181205d5-a359-11e9-80d9-0050569133d8",
        "Article_Number": "N535834",
        "Code": "НФ-00093314",
        "Full_Name": "КОРПУС В КОМПЛЕКТЕ",
        "Quantity": 1,
        "Price": 719.44,
        "Sum": 719.44,
        "SizeVAT": 20,
        "SumVAT": 119.91
      }
    ],
    "WorkItems": [
      {
        "ItemGUID": "e88206e7-4758-11eb-b990-04d9f5ae0304",
        "Article_Number": "",
        "Code": "НФ-00174416",
        "Full_Name": "Обслуживание инструмента",
        "Quantity": 1,
        "Price": 863,
        "Sum": 863,
        "SizeVAT": 20,
        "SumVAT": 143.83
      }
    ]
  },
  "error": null,
  "errorCode": null
}
```

---

## Sales

### Описание

Предназначен для получения данных по товарам из расходной накладной по переданному GUID

Метод - **GET**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/sales/details/{guid}
```

где guid уникальный идентификатор расходной накладной (строка 36)

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                   |           Тип            | Обязательный | Описание                       |
| --------------------------- | :----------------------: | :----------: | :----------------------------- |
| [response](#response-sales) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                       |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                   |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (Sales):**

| Параметры                           |     Тип     | Обязательный | Описание               |
| ----------------------------------- | :---------: | :----------: | :--------------------- |
| TransactionID                       | Строка (36) |     Нет      | [См. общее](#общее)    |
| SourceID                            | Строка (36) |      Да      | [См. общее](#общее)    |
| [ProductItems](#productitems-sales) |   Массив    |      Да      | Данные по номенклатуре |

#### **ProductItems (Sales):**

| Параметры      |     Тип     | Обязательный | Описание                         |
| -------------- | :---------: | :----------: | :------------------------------- |
| ItemGUID       | Строка (36) |      Да      | Идентификатор номенклатуры       |
| Article_Number |   Строка    |      Да      | Артикул номенклатуры             |
| Code           |   Строка    |      Да      | Код номенклатуры                 |
| Full_Name      |   Строка    |      Да      | Полное наименование номенклатуры |
| Quantity       |    Число    |      Да      | Количество                       |
| Price          |    Число    |      Да      | Цена                             |
| Sum            |    Число    |      Да      | Сумма                            |
| SizeVAT        |    Число    |      Да      | Ставка НДС                       |
| SumVAT         |    Число    |      Да      | Сумма НДС                        |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/sales/details/f7de2702-93b4-11ec-b9bd-001b21b3a70e
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64"
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
    "ProductItems": [
      {
        "ItemGUID": "4143a22c-5d1d-11e9-80ee-0050569101f6",
        "Article_Number": "DT2976-QZ",
        "Code": "00-00000852",
        "Full_Name": "Полотно Alligator,POROTON20.д/DWE397/8/9 DeWalt DT2976-QZ",
        "Quantity": 2,
        "Price": 11650,
        "Sum": 19805,
        "SizeVAT": 20,
        "SumVAT": 3300.83
      }
    ]
  },
  "error": null,
  "errorCode": null
}
```

---

## CustomerOrders

### Описание

Предназначен для создания заказов в 1С

Метод - **POST**

### Описание шаблона

**_URL_**:

```html
https://server.ru/PersAcc/customerorders
```

Тело запроса содержит _JSON_ с следующими параметрами:

| Параметры                      |     Тип     | Обязательный | Описание                           |
| ------------------------------ | :---------: | :----------: | :--------------------------------- |
| TransactionID                  | Строка (36) |     Нет      | [См. общее](#общее)                |
| SourceID                       | Строка (36) |      Да      | [См. общее](#общее)                |
| GUIDPersonalAccount            |   Строка    |      Да      | GUID личного кабинета клиента      |
| GUIDCustomer                   |   Строка    |      Да      | GUID клиента для оформления заказа |
| [Order](#order-customerorders) |   Объект    |      Да      | Информация по заказу               |

#### **Order (CustomerOrders):**

| Параметры                            |             Тип             | Обязательный | Описание                                     |
| ------------------------------------ | :-------------------------: | :----------: | :------------------------------------------- |
| DateOrder                            | Дата (строка в формате UTC) |      Да      | Дата заказа                                  |
| NumberOrder                          |           Строка            |      Да      | Номер заказа на сайте                        |
| Comment                              |           Строка            |      Да      | Комментарий к заказу                         |
| Sum                                  |            Число            |      Да      | Сумма документа                              |
| VAT                                  |            Число            |      Да      | 0 - без ндс; 1 - ндс в сумме; 2 - ндс сверху |
| SizeVAT                              |            Число            |      Да      | Ставка НДС                                   |
| [Products](#products-customerorders) |           Массив            |      Да      | Данные по номенклатуре                       |

#### **Products (CustomerOrders):**

| Параметры |             Тип             | Обязательный | Описание                   |
| --------- | :-------------------------: | :----------: | :------------------------- |
| GUID      | Дата (строка в формате UTC) |      Да      | Идентификатор номенклатуры |
| Article   |           Строка            |      Да      | Артикул                    |
| Quantity  |           Строка            |      Да      | Количество                 |
| Price     |           Строка            |      Да      | Цена                       |
| Sum       |           Строка            |      Да      | Сумма                      |

Тело ответа содержит _JSON_ с следующими параметрами:

| Параметры                            |           Тип            | Обязательный | Описание                       |
| ------------------------------------ | :----------------------: | :----------: | :----------------------------- |
| [response](#response-customerorders) | Null, либо данные ответа |      Да      | Не заполняется при ошибке      |
| error                                |          Строка          |      Да      | Строка описания ошибки         |
| errorCode                            |          Строка          |      Да      | Код ошибки в классификации API |

#### **response (CustomerOrders):**

| Параметры     |     Тип     | Обязательный | Описание            |
| ------------- | :---------: | :----------: | :------------------ |
| TransactionID | Строка (36) |     Нет      | [См. общее](#общее) |
| SourceID      | Строка (36) |      Да      | [См. общее](#общее) |
| Number1C      |   Строка    |      Да      | Номер заказа в 1С   |

### Пример

**_URL_**:

```html
https://server.ru/PersAcc/customerorders
```

**Тело запроса в формате _JSON_**:

```json
{
  "TransactionID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c64",
  "SourceID": "0d2fd304-07ef-4f32-9a76-2b7d820e2c65",
  "GUIDPersonalAccount": "0d2fd304-07ef-4f32-9a76-2b7d820e2c65",
  "GUIDCustomer": "0d2fd304-07ef-4f32-9a76-2b7d820e2c65",
  "Order": {
    "DateOrder": "2021-11-18T10:52:35+03:00",
    "NumberOrder": "С001",
    "Comment": "Загружено из сайта",
    "Sum": 3600,
    "VAT": 1,
    "SizeVAT": 20,
    "Products": [
      {
        "GUID": "6c20e5f0-4033-11ea-80ee-0050569133d8",
        "Article": "DT5123-QZ",
        "Quantity": "12",
        "Price": "300",
        "Sum": "3600"
      }
    ]
  }
}
```

**Ответ в формате _JSON_**:

```json
{
  "response": {
    "Number1C": "00-0000001"
  },
  "error": null,
  "errorCode": null
}
```
